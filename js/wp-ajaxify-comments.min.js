var WPAC;function wpac_init(){WPAC._Debug("info","wpac_init() is deprecated, please use WPAC.Init()"),WPAC.Init()}!function(e){var u={starts_with_slashes:/^\/+/,ends_with_slashes:/\/+$/,pluses:/\+/g,query_separator:/[&;]/,uri_parser:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*)(?::([^:@]*))?)?@)?(\[[0-9a-fA-F:.]+\]|[^:\/?#]*)(?::(\d+|(?=:)))?(:)?)((((?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/};function c(e){return e&&(e=e.toString().replace(u.pluses,"%20"),e=decodeURIComponent(e)),e}function i(e){var t,o,n,r,i,s,a,l=[];if(null==e||""===e)return l;for(0===e.indexOf("?")&&(e=e.substring(1)),t=0,a=(o=e.toString().split(u.query_separator)).length;t<a;t++)0!==(r=(n=o[t]).indexOf("="))&&(i=c(n.substring(0,r)),s=c(n.substring(r+1)),l.push(-1===r?[n,null]:[i,s]));return l}function o(e){var t,o,n;this.uriParts=(t=e,o=u.uri_parser.exec(t||""),n={},["source","protocol","authority","userInfo","user","password","host","port","isColonUri","relative","path","directory","file","query","anchor"].forEach(function(e,t){n[e]=o[t]||""}),n),this.queryPairs=i(this.uriParts.query),this.hasAuthorityPrefixUserPref=null}Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var o,n;if(null==this)throw new TypeError(" this is null or not defined");var r,i=Object(this),s=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(o=t),n=0;n<s;){n in i&&(r=i[n],e.call(o,r,n,i)),n++}}),["protocol","userInfo","host","port","path","anchor"].forEach(function(t){o.prototype[t]=function(e){return void 0!==e&&(this.uriParts[t]=e),this.uriParts[t]}}),o.prototype.hasAuthorityPrefix=function(e){return void 0!==e&&(this.hasAuthorityPrefixUserPref=e),null===this.hasAuthorityPrefixUserPref?-1!==this.uriParts.source.indexOf("//"):this.hasAuthorityPrefixUserPref},o.prototype.isColonUri=function(e){if(void 0===e)return!!this.uriParts.isColonUri;this.uriParts.isColonUri=!!e},o.prototype.query=function(e){var t,o,n,r="";for(void 0!==e&&(this.queryPairs=i(e)),t=0,n=this.queryPairs.length;t<n;t++)o=this.queryPairs[t],0<r.length&&(r+="&"),null===o[1]?r+=o[0]:(r+=o[0],r+="=",void 0!==o[1]&&(r+=encodeURIComponent(o[1])));return 0<r.length?"?"+r:r},o.prototype.getQueryParamValue=function(e){for(var t,o=0,n=this.queryPairs.length;o<n;o++)if(e===(t=this.queryPairs[o])[0])return t[1]},o.prototype.getQueryParamValues=function(e){for(var t,o=[],n=0,r=this.queryPairs.length;n<r;n++)e===(t=this.queryPairs[n])[0]&&o.push(t[1]);return o},o.prototype.deleteQueryParam=function(e,t){for(var o,n,r,i=[],s=0,a=this.queryPairs.length;s<a;s++)n=c((o=this.queryPairs[s])[0])===c(e),r=o[1]===t,(1!==arguments.length||n)&&(2!==arguments.length||n&&r)||i.push(o);return this.queryPairs=i,this},o.prototype.addQueryParam=function(e,t,o){return 3===arguments.length&&-1!==o?(o=Math.min(o,this.queryPairs.length),this.queryPairs.splice(o,0,[e,t])):0<arguments.length&&this.queryPairs.push([e,t]),this},o.prototype.hasQueryParam=function(e){for(var t=this.queryPairs.length,o=0;o<t;o++)if(this.queryPairs[o][0]==e)return!0;return!1},o.prototype.replaceQueryParam=function(e,t,o){var n,r,i=-1,s=this.queryPairs.length;if(3===arguments.length){for(n=0;n<s;n++)if(c((r=this.queryPairs[n])[0])===c(e)&&decodeURIComponent(r[1])===c(o)){i=n;break}0<=i&&this.deleteQueryParam(e,c(o)).addQueryParam(e,t,i)}else{for(n=0;n<s;n++)if(c((r=this.queryPairs[n])[0])===c(e)){i=n;break}this.deleteQueryParam(e),this.addQueryParam(e,t,i)}return this},["protocol","hasAuthorityPrefix","isColonUri","userInfo","host","port","path","query","anchor"].forEach(function(t){var e="set"+t.charAt(0).toUpperCase()+t.slice(1);o.prototype[e]=function(e){return this[t](e),this}}),o.prototype.scheme=function(){var e="";return this.protocol()?(e+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1&&(e+=":"),e+="//"):this.hasAuthorityPrefix()&&this.host()&&(e+="//"),e},o.prototype.origin=function(){var e=this.scheme();return this.userInfo()&&this.host()&&(e+=this.userInfo(),this.userInfo().indexOf("@")!==this.userInfo().length-1&&(e+="@")),this.host()&&(e+=this.host(),(this.port()||this.path()&&this.path().substr(0,1).match(/[0-9]/))&&(e+=":"+this.port())),e},o.prototype.addTrailingSlash=function(){var e=this.path()||"";return"/"!==e.substr(-1)&&this.path(e+"/"),this},o.prototype.toString=function(){var e,t=this.origin();return this.isColonUri()?this.path()&&(t+=":"+this.path()):this.path()?(e=this.path(),u.ends_with_slashes.test(t)||u.starts_with_slashes.test(e)?(t&&t.replace(u.ends_with_slashes,"/"),e=e.replace(u.starts_with_slashes,"/")):t+="/",t+=e):this.host()&&(this.query().toString()||this.anchor())&&(t+="/"),this.query().toString()&&(t+=this.query().toString()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(t+="#"),t+=this.anchor()),t},o.prototype.clone=function(){return new o(this.toString())},"function"==typeof define&&define.amd?define(function(){return o}):"undefined"!=typeof module&&void 0!==module.exports?module.exports=o:e.Uri=o}(this),function(){"use strict";function e(W){W.fn._fadeIn=W.fn.fadeIn;var _=W.noop||function(){},k=/MSIE/.test(navigator.userAgent),x=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),U=(document.documentMode,W.isFunction(document.createElement("div").style.setExpression));W.blockUI=function(e){o(window,e)},W.unblockUI=function(e){T(window,e)},W.growlUI=function(e,t,o,n){var r=W('<div class="growlUI"></div>');e&&r.append("<h1>"+e+"</h1>"),t&&r.append("<h2>"+t+"</h2>"),void 0===o&&(o=3e3);function i(e){e=e||{},W.blockUI({message:r,fadeIn:void 0!==e.fadeIn?e.fadeIn:700,fadeOut:void 0!==e.fadeOut?e.fadeOut:1e3,timeout:void 0!==e.timeout?e.timeout:o,centerY:!1,showOverlay:!1,onUnblock:n,css:W.blockUI.defaults.growlCSS})}i();r.css("opacity");r.mouseover(function(){i({fadeIn:0,timeout:3e4});var e=W(".blockMsg");e.stop(),e.fadeTo(300,1)}).mouseout(function(){W(".blockMsg").fadeOut(1e3)})},W.fn.block=function(e){if(this[0]===window)return W.blockUI(e),this;var t=W.extend({},W.blockUI.defaults,e||{});return this.each(function(){var e=W(this);t.ignoreIfBlocked&&e.data("blockUI.isBlocked")||e.unblock({fadeOut:0})}),this.each(function(){"static"==W.css(this,"position")&&(this.style.position="relative",W(this).data("blockUI.static",!0)),this.style.zoom=1,o(this,e)})},W.fn.unblock=function(e){return this[0]===window?(W.unblockUI(e),this):this.each(function(){T(this,e)})},W.blockUI.version=2.7,W.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var S=null,O=[];function o(e,r){var t,o,n,i,s,a,l,u,c,d,p,h,f,m,g,C,y,b,P,A,w=e==window,v=r&&void 0!==r.message?r.message:void 0;(r=W.extend({},W.blockUI.defaults,r||{})).ignoreIfBlocked&&W(e).data("blockUI.isBlocked")||(r.overlayCSS=W.extend({},W.blockUI.defaults.overlayCSS,r.overlayCSS||{}),t=W.extend({},W.blockUI.defaults.css,r.css||{}),r.onOverlayClick&&(r.overlayCSS.cursor="pointer"),o=W.extend({},W.blockUI.defaults.themedCSS,r.themedCSS||{}),v=void 0===v?r.message:v,w&&S&&T(window,{fadeOut:0}),v&&"string"!=typeof v&&(v.parentNode||v.jquery)&&(n=v.jquery?v[0]:v,i={},W(e).data("blockUI.history",i),i.el=n,i.parent=n.parentNode,i.display=n.style.display,i.position=n.style.position,i.parent&&i.parent.removeChild(n)),W(e).data("blockUI.onUnblock",r.onUnblock),s=r.baseZ,u=k||r.forceIframe?W('<iframe class="blockUI" style="z-index:'+s+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+r.iframeSrc+'"></iframe>'):W('<div class="blockUI" style="display:none"></div>'),c=r.theme?W('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+s+++';display:none"></div>'):W('<div class="blockUI blockOverlay" style="z-index:'+s+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),r.theme&&w?(l='<div class="blockUI '+r.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(s+10)+';display:none;position:fixed">',r.title&&(l+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(r.title||"&nbsp;")+"</div>"),l+='<div class="ui-widget-content ui-dialog-content"></div>',l+="</div>"):r.theme?(l='<div class="blockUI '+r.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(s+10)+';display:none;position:absolute">',r.title&&(l+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(r.title||"&nbsp;")+"</div>"),l+='<div class="ui-widget-content ui-dialog-content"></div>',l+="</div>"):l=w?'<div class="blockUI '+r.blockMsgClass+' blockPage" style="z-index:'+(s+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+r.blockMsgClass+' blockElement" style="z-index:'+(s+10)+';display:none;position:absolute"></div>',a=W(l),v&&(r.theme?(a.css(o),a.addClass("ui-widget-content")):a.css(t)),r.theme||c.css(r.overlayCSS),c.css("position",w?"fixed":"absolute"),(k||r.forceIframe)&&u.css("opacity",0),d=[u,c,a],p=W(w?"body":e),W.each(d,function(){this.appendTo(p)}),r.theme&&r.draggable&&W.fn.draggable&&a.draggable({handle:".ui-dialog-titlebar",cancel:"li"}),h=U&&(!W.support.boxModel||0<W("object,embed",w?null:e).length),(x||h)&&(w&&r.allowBodyStretch&&W.support.boxModel&&W("html,body").css("height","100%"),!x&&W.support.boxModel||w||(f=D(e,"borderTopWidth"),m=D(e,"borderLeftWidth"),g=f?"(0 - "+f+")":0,C=m?"(0 - "+m+")":0),W.each(d,function(e,t){var o,n=t[0].style;n.position="absolute",e<2?(w?n.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+r.quirksmodeOffsetHack+') + "px"'):n.setExpression("height",'this.parentNode.offsetHeight + "px"'),w?n.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):n.setExpression("width",'this.parentNode.offsetWidth + "px"'),C&&n.setExpression("left",C),g&&n.setExpression("top",g)):r.centerY?(w&&n.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),n.marginTop=0):!r.centerY&&w&&(o="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(r.css&&r.css.top?parseInt(r.css.top,10):0)+') + "px"',n.setExpression("top",o))})),v&&(r.theme?a.find(".ui-widget-content").append(v):a.append(v),(v.jquery||v.nodeType)&&W(v).show()),(k||r.forceIframe)&&r.showOverlay&&u.show(),r.fadeIn?(y=r.onBlock?r.onBlock:_,b=r.showOverlay&&!v?y:_,P=v?y:_,r.showOverlay&&c._fadeIn(r.fadeIn,b),v&&a._fadeIn(r.fadeIn,P)):(r.showOverlay&&c.show(),v&&a.show(),r.onBlock&&r.onBlock.bind(a)()),I(1,e,r),w?(S=a[0],O=W(r.focusableElements,S),r.focusInput&&setTimeout(j,20)):function(e,t,o){var n=e.parentNode,r=e.style,i=(n.offsetWidth-e.offsetWidth)/2-D(n,"borderLeftWidth"),s=(n.offsetHeight-e.offsetHeight)/2-D(n,"borderTopWidth");t&&(r.left=0<i?i+"px":"0");o&&(r.top=0<s?s+"px":"0")}(a[0],r.centerX,r.centerY),r.timeout&&(A=setTimeout(function(){w?W.unblockUI(r):W(e).unblock(r)},r.timeout),W(e).data("blockUI.timeout",A)))}function T(e,t){var o,n,r=e==window,i=W(e),s=i.data("blockUI.history"),a=i.data("blockUI.timeout");a&&(clearTimeout(a),i.removeData("blockUI.timeout")),t=W.extend({},W.blockUI.defaults,t||{}),I(0,e,t),null===t.onUnblock&&(t.onUnblock=i.data("blockUI.onUnblock"),i.removeData("blockUI.onUnblock")),n=r?W("body").children().filter(".blockUI").add("body > .blockUI"):i.find(">.blockUI"),t.cursorReset&&(1<n.length&&(n[1].style.cursor=t.cursorReset),2<n.length&&(n[2].style.cursor=t.cursorReset)),r&&(S=O=null),t.fadeOut?(o=n.length,n.stop().fadeOut(t.fadeOut,function(){0==--o&&l(n,s,t,e)})):l(n,s,t,e)}function l(e,t,o,n){var r,i,s,a=W(n);a.data("blockUI.isBlocked")||(e.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),t&&t.el&&(t.el.style.display=t.display,t.el.style.position=t.position,t.el.style.cursor="default",t.parent&&t.parent.appendChild(t.el),a.removeData("blockUI.history")),a.data("blockUI.static")&&a.css("position","static"),"function"==typeof o.onUnblock&&o.onUnblock(n,o),i=(r=W(document.body)).width(),s=r[0].style.width,r.width(i-1).width(i),r[0].style.width=s)}function I(e,t,o){var n,r=t==window,i=W(t);!e&&(r&&!S||!r&&!i.data("blockUI.isBlocked"))||(i.data("blockUI.isBlocked",e),r&&o.bindEvents&&(!e||o.showOverlay)&&(n="mousedown mouseup keydown keypress keyup touchstart touchend touchmove",e?W(document).bind(n,o,s):W(document).unbind(n,s)))}function s(e){if("keydown"===e.type&&e.keyCode&&9==e.keyCode&&S&&e.data.constrainTabKey){var t=!e.shiftKey&&e.target===O[O.length-1],o=e.shiftKey&&e.target===O[0];if(t||o)return setTimeout(function(){j(o)},10),!1}var n=e.data,r=W(e.target);return r.hasClass("blockOverlay")&&n.onOverlayClick&&n.onOverlayClick(e),0<r.parents("div."+n.blockMsgClass).length||0===r.parents().children().filter("div.blockUI").length}function j(e){var t;!O||(t=O[!0===e?O.length-1:0])&&t.focus()}function D(e,t){return parseInt(W.css(e,t),10)||0}}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(),function(d){d.idleTimer=function(e,n){var t;"object"==typeof e?(t=e,e=null):"number"==typeof e&&(t={timeout:e},e=null),n=n||document,t=d.extend({idle:!1,timeout:3e4,events:"mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove"},t);function o(e){var t=d.data(n,"idleTimerObj")||{};t.idle=!t.idle,t.olddate=+new Date;var o=d.Event((t.idle?"idle":"active")+".idleTimer");d(n).trigger(o,[n,d.extend({},t),e])}function r(e){var t=d.data(n,"idleTimerObj")||{};if(("storage"!==e.type||e.originalEvent.key===t.timerSyncId)&&null==t.remaining){if("mousemove"===e.type){if(e.pageX===t.pageX&&e.pageY===t.pageY)return;if(void 0===e.pageX&&void 0===e.pageY)return;if(new Date-t.olddate<200)return}clearTimeout(t.tId),t.idle&&o(e),t.lastActive=+new Date,t.pageX=e.pageX,t.pageY=e.pageY,"storage"!==e.type&&t.timerSyncId&&"undefined"!=typeof localStorage&&localStorage.setItem(t.timerSyncId,t.lastActive),t.tId=setTimeout(o,t.timeout)}}function i(){var e=d.data(n,"idleTimerObj")||{};e.idle=e.idleBackup,e.olddate=+new Date,e.lastActive=e.olddate,e.remaining=null,clearTimeout(e.tId),e.idle||(e.tId=setTimeout(o,e.timeout))}var s,a,l,u=d(n),c=u.data("idleTimerObj")||{};if(null===e&&void 0!==c.idle)return i(),u;if(null!==e){if(null!==e&&void 0===c.idle)return!1;if("destroy"===e)return l=d.data(n,"idleTimerObj")||{},clearTimeout(l.tId),u.removeData("idleTimerObj"),u.off("._idleTimer"),u;if("pause"===e)return null==(a=d.data(n,"idleTimerObj")||{}).remaining&&(a.remaining=a.timeout-(new Date-a.olddate),clearTimeout(a.tId)),u;if("resume"===e)return null!=(s=d.data(n,"idleTimerObj")||{}).remaining&&(s.idle||(s.tId=setTimeout(o,s.remaining)),s.remaining=null),u;if("reset"===e)return i(),u;if("getRemainingTime"===e)return function(){var e=d.data(n,"idleTimerObj")||{};if(e.idle)return 0;if(null!=e.remaining)return e.remaining;var t=e.timeout-(new Date-e.lastActive);return t<0&&(t=0),t}();if("getElapsedTime"===e)return new Date-c.olddate;if("getLastActiveTime"===e)return c.lastActive;if("isIdle"===e)return c.idle}return u.on((t.events+" ").split(" ").join("._idleTimer ").trim(),function(e){r(e)}),t.timerSyncId&&d(window).on("storage",r),(c=d.extend({},{olddate:+new Date,lastActive:+new Date,idle:t.idle,idleBackup:t.idle,timeout:t.timeout,remaining:null,timerSyncId:t.timerSyncId,tId:null,pageX:null,pageY:null})).idle||(c.tId=setTimeout(o,c.timeout)),d.data(n,"idleTimerObj",c),u},d.fn.idleTimer=function(e){return this[0]?d.idleTimer(e,this[0]):this}}(jQuery),function(){"use strict";var t=0,i={};function o(e){if(!e)throw new Error("No options passed to Waypoint constructor");if(!e.element)throw new Error("No element option passed to Waypoint constructor");if(!e.handler)throw console.log("options",e),new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=o.Adapter.extend({},o.defaults,e),this.element=this.options.element,this.adapter=new o.Adapter(this.element),this.callback=e.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=o.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=o.Context.findOrCreateByElement(this.options.context),o.offsetAliases[this.options.offset]&&(this.options.offset=o.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,t+=1}o.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},o.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},o.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},o.prototype.disable=function(){return this.enabled=!1,this},o.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},o.prototype.next=function(){return this.group.next(this)},o.prototype.previous=function(){return this.group.previous(this)},o.invokeAll=function(e){var t=[];for(var o in i)t.push(i[o]);for(var n=0,r=t.length;n<r;n++)t[n][e]()},o.destroyAll=function(){o.invokeAll("destroy")},o.disableAll=function(){o.invokeAll("disable")},o.enableAll=function(){for(var e in o.Context.refreshAll(),i)i[e].enabled=!0;return this},o.refreshAll=function(){o.Context.refreshAll()},o.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},o.viewportWidth=function(){return document.documentElement.clientWidth},o.adapters=[],o.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},o.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=o}(),function(){"use strict";function t(e){window.setTimeout(e,1e3/60)}var o=0,n={},g=window.Waypoint,e=window.onload;function r(e){this.element=e,this.Adapter=g.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+o,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,n[e.waypointContextKey]=this,o+=1,g.windowContext||(g.windowContext=!0,g.windowContext=new r(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}r.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},r.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical),o=this.element==this.element.window;e&&t&&!o&&(this.adapter.off(".waypoints"),delete n[this.key])},r.prototype.createThrottledResizeHandler=function(){var e=this;function t(){e.handleResize(),e.didResize=!1}this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,g.requestAnimationFrame(t))})},r.prototype.createThrottledScrollHandler=function(){var e=this;function t(){e.handleScroll(),e.didScroll=!1}this.adapter.on("scroll.waypoints",function(){e.didScroll&&!g.isTouch||(e.didScroll=!0,g.requestAnimationFrame(t))})},r.prototype.handleResize=function(){g.Context.refreshAll()},r.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var o in t){var n=t[o],r=n.newScroll>n.oldScroll?n.forward:n.backward;for(var i in this.waypoints[o]){var s,a,l=this.waypoints[o][i];null!==l.triggerPoint&&(s=n.oldScroll<l.triggerPoint,a=n.newScroll>=l.triggerPoint,(s&&a||!s&&!a)&&(l.queueTrigger(r),e[l.group.id]=l.group))}}for(var u in e)e[u].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},r.prototype.innerHeight=function(){return this.element==this.element.window?g.viewportHeight():this.adapter.innerHeight()},r.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},r.prototype.innerWidth=function(){return this.element==this.element.window?g.viewportWidth():this.adapter.innerWidth()},r.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var o in this.waypoints[t])e.push(this.waypoints[t][o]);for(var n=0,r=e.length;n<r;n++)e[n].destroy()},r.prototype.refresh=function(){var e,t=this.element==this.element.window,o=t?void 0:this.adapter.offset(),n={};for(var r in this.handleScroll(),e={horizontal:{contextOffset:t?0:o.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:o.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var i=e[r];for(var s in this.waypoints[r]){var a,l,u,c,d=this.waypoints[r][s],p=d.options.offset,h=d.triggerPoint,f=0,m=null==h;d.element!==d.element.window&&(f=d.adapter.offset()[i.offsetProp]),"function"==typeof p?p=p.apply(d):"string"==typeof p&&(p=parseFloat(p),-1<d.options.offset.indexOf("%")&&(p=Math.ceil(i.contextDimension*p/100))),a=i.contextScroll-i.contextOffset,d.triggerPoint=Math.floor(f+a-p),l=h<i.oldScroll,u=d.triggerPoint>=i.oldScroll,c=!l&&!u,!m&&(l&&u)?(d.queueTrigger(i.backward),n[d.group.id]=d.group):(!m&&c||m&&i.oldScroll>=d.triggerPoint)&&(d.queueTrigger(i.forward),n[d.group.id]=d.group)}}return g.requestAnimationFrame(function(){for(var e in n)n[e].flushTriggers()}),this},r.findOrCreateByElement=function(e){return r.findByElement(e)||new r(e)},r.refreshAll=function(){for(var e in n)n[e].refresh()},r.findByElement=function(e){return n[e.waypointContextKey]},window.onload=function(){e&&e(),r.refreshAll()},g.requestAnimationFrame=function(e){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t).call(window,e)},g.Context=r}(),function(){"use strict";function s(e,t){return e.triggerPoint-t.triggerPoint}function a(e,t){return t.triggerPoint-e.triggerPoint}var t={vertical:{},horizontal:{}},o=window.Waypoint;function n(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),t[this.axis][this.name]=this}n.prototype.add=function(e){this.waypoints.push(e)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var e in this.triggerQueues){var t=this.triggerQueues[e],o="up"===e||"left"===e;t.sort(o?a:s);for(var n=0,r=t.length;n<r;n+=1){var i=t[n];!i.options.continuous&&n!==t.length-1||i.trigger([e])}}this.clearTriggerQueues()},n.prototype.next=function(e){this.waypoints.sort(s);var t=o.Adapter.inArray(e,this.waypoints);return t===this.waypoints.length-1?null:this.waypoints[t+1]},n.prototype.previous=function(e){this.waypoints.sort(s);var t=o.Adapter.inArray(e,this.waypoints);return t?this.waypoints[t-1]:null},n.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},n.prototype.remove=function(e){var t=o.Adapter.inArray(e,this.waypoints);-1<t&&this.waypoints.splice(t,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(e){return t[e.axis][e.name]||new n(e)},o.Group=n}(),function(){"use strict";var o=window.jQuery,e=window.Waypoint;function n(e){this.$element=o(e)}o.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,t){n.prototype[t]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[t].apply(this.$element,e)}}),o.each(["extend","inArray","isEmptyObject"],function(e,t){n[t]=o[t]}),e.adapters.push({name:"jquery",Adapter:n}),e.Adapter=n}(),function(){"use strict";var r=window.Waypoint;function e(n){return function(){var t=[],o=arguments[0];return n.isFunction(arguments[0])&&((o=n.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var e=n.extend({},o,{element:this});"string"==typeof e.context&&(e.context=n(this).closest(e.context)[0]),t.push(new r(e))}),t}}window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}(),window.WPAC||(WPAC={}),WPAC._Options=WPAC._Options||{},WPAC._BodyRegex=new RegExp("<body[^>]*>((.|\n|\r)*)</body>","i"),WPAC._ExtractBody=function(e){try{return jQuery("<div>"+WPAC._BodyRegex.exec(e)[1]+"</div>")}catch(e){return!1}},WPAC._TitleRegex=new RegExp("<title[^>]*>(.*?)<\\/title>","im"),WPAC._ExtractTitle=function(e){try{return WPAC._TitleRegex.exec(e)[1]}catch(e){return!1}},WPAC._ShowMessage=function(e,t){var o=WPAC._Options.popupMarginTop+(jQuery("#wpadminbar").outerHeight()||0),n=WPAC._Options.popupBackgroundColorLoading,r=WPAC._Options.popupTextColorLoading;"error"==t?(n=WPAC._Options.popupBackgroundColorError,r=WPAC._Options.popupTextColorError):"success"==t&&(n=WPAC._Options.popupBackgroundColorSuccess,r=WPAC._Options.popupTextColorSuccess),jQuery.blockUI({message:e,fadeIn:WPAC._Options.popupFadeIn,fadeOut:WPAC._Options.popupFadeOut,timeout:"loading"==t?0:WPAC._Options.popupTimeout,centerY:!1,centerX:!0,showOverlay:"loading"==t,css:{width:WPAC._Options.popupWidth+"%",left:(100-WPAC._Options.popupWidth)/2+"%",top:o+"px",border:"none",padding:WPAC._Options.popupPadding+"px",backgroundColor:n,"-webkit-border-radius":WPAC._Options.popupCornerRadius+"px","-moz-border-radius":WPAC._Options.popupCornerRadius+"px","border-radius":WPAC._Options.popupCornerRadius+"px",opacity:WPAC._Options.popupOpacity/100,color:r,textAlign:WPAC._Options.popupTextAlign,cursor:"loading"==t?"wait":"default","font-size":WPAC._Options.popupTextFontSize},overlayCSS:{backgroundColor:"#000",opacity:0},baseZ:WPAC._Options.popupZindex})},WPAC._DebugErrorShown=!1,WPAC._Debug=function(e,t){if(WPAC._Options.debug){if(Function.prototype.call&&Function.prototype.call.bind&&void 0!==window.console&&console&&"object"==typeof console.log&&void 0===window.console[e].apply&&(console[e]=Function.prototype.call.bind(console[e],console)),void 0===window.console||void 0===window.console[e]||void 0===window.console[e].apply)return WPAC._DebugErrorShown||alert("Unfortunately the console object is undefined or is not supported in your browser, debugging WP Ajaxify Comments is disabled! Please use Firebug, Google Chrome or Internet Explorer 9 or above with enabled Developer Tools (F12) for debugging WP Ajaxify Comments."),void(WPAC._DebugErrorShown=!0);var o=jQuery.merge(["[WP Ajaxify Comments] "+t],jQuery.makeArray(arguments).slice(2));console[e].apply(console,o)}},WPAC._DebugSelector=function(e,t,o){var n;WPAC._Options.debug&&((n=jQuery(t)).length?WPAC._Debug("info","Search %s (selector: '%s')... Found: %o",e,t,n):WPAC._Debug(o?"info":"error","Search %s (selector: '%s')... Not found",e,t))},WPAC._AddQueryParamStringToUrl=function(e,t,o){return new Uri(e).replaceQueryParam(t,o).toString()},WPAC._LoadFallbackUrl=function(e){WPAC._ShowMessage(WPAC._Options.textReloadPage,"loading");var t=WPAC._AddQueryParamStringToUrl(e,"WPACRandom",(new Date).getTime());WPAC._Debug("info","Something went wrong. Reloading page (URL: '%s')...",t);function o(){location.href=t}WPAC._Options.debug?(WPAC._Debug("info","Sleep for 5s to enable analyzing debug messages..."),window.setTimeout(o,5e3)):o()},WPAC._ScrollToAnchor=function(e,t,o){o=o||function(){};var n=jQuery(e);if(n.length){WPAC._Debug("info","Scroll to anchor element %o (scroll speed: %s ms)...",n,WPAC._Options.scrollSpeed);function r(){t&&(window.location.hash=e),o()}var i=n.offset().top;return jQuery(window).scrollTop()==i?r():jQuery("html,body").animate({scrollTop:i},{duration:WPAC._Options.scrollSpeed,complete:r}),!0}return WPAC._Debug("error","Anchor element not found (selector: '%s')",e),!1},WPAC._UpdateUrl=function(e){e.split("#")[0]!=window.location.href.split("#")[0]&&(window.history.replaceState?window.history.replaceState({},window.document.title,e):WPAC._Debug("info","Browser does not support window.history.replaceState() to update the URL without reloading the page",anchor))},WPAC._ReplaceComments=function(e,t,o,n,r,i,s,a,l,u,c){var d=o?WPAC._AddQueryParamStringToUrl(t,"WPACFallback","1"):t,p=jQuery(i);if(!p.length)return WPAC._Debug("error","Comment container on current page not found (selector: '%s')",i),WPAC._LoadFallbackUrl(d),!1;var h=WPAC._ExtractBody(e);if(!1===h)return WPAC._Debug("error","Unsupported server response, unable to extract body (data: '%s')",e),WPAC._LoadFallbackUrl(d),!1;l(h);var f=h.find(i);if(!f.length)return WPAC._Debug("error","Comment container on requested page not found (selector: '%s')",i),WPAC._LoadFallbackUrl(d),!1;u(h,t);var m=WPAC._ExtractTitle(e);if(!1!==h&&(document.title=jQuery("<textarea />").html(m).text()),p.replaceWith(f),WPAC._Options.commentsEnabled){var g,C=jQuery(s);if(C.length){if(!C.parents(i).length){WPAC._Debug("info","Replace comment form...");var y=h.find(s);if(0==y.length)return WPAC._Debug("error","Comment form on requested page not found (selector: '%s')",s),WPAC._LoadFallbackUrl(d),!1;C.replaceWith(y)}}else{WPAC._Debug("info","Try to re-inject comment form...");var b=jQuery("#wp-temp-form-div");if(!b.length)return WPAC._Debug("error","WordPress' #wp-temp-form-div container not found",a),WPAC._LoadFallbackUrl(d),!1;var P=h.find(a);if(!P.length)return WPAC._Debug("error","Respond container on requested page not found (selector: '%s')",a),WPAC._LoadFallbackUrl(d),!1;b.replaceWith(P)}n&&jQuery.each(n,function(e,t){var o=jQuery("[name='"+t.name+"']",s);1!=o.length||o.val()||o.val(t.value)}),!r||(g=jQuery("[name='"+r+"']",s))&&g.focus()}return c(h,t),!0},WPAC._TestCrossDomainScripting=function(e){if(0!=e.indexOf("http"))return!1;var t=window.location.protocol+"//"+window.location.host;return 0!=e.indexOf(t)},WPAC._TestFallbackUrl=function(e){return(e=new Uri(location.href)).getQueryParamValue("WPACFallback")&&e.getQueryParamValue("WPACRandom")},WPAC.AttachForm=function(s){var e;s=jQuery.extend({selectorCommentForm:WPAC._Options.selectorCommentForm,selectorCommentPagingLinks:WPAC._Options.selectorCommentPagingLinks,beforeSelectElements:WPAC._Callbacks.beforeSelectElements,beforeSubmitComment:WPAC._Callbacks.beforeSubmitComment,afterPostComment:WPAC._Callbacks.afterPostComment,selectorCommentsContainer:WPAC._Options.selectorCommentsContainer,selectorRespondContainer:WPAC._Options.selectorRespondContainer,beforeUpdateComments:WPAC._Callbacks.beforeUpdateComments,afterUpdateComments:WPAC._Callbacks.afterUpdateComments,scrollToAnchor:!WPAC._Options.disableScrollToAnchor,updateUrl:!WPAC._Options.disableUrlUpdate,selectorCommentLinks:WPAC._Options.selectorCommentLinks},s||{}),WPAC._Options.debug&&WPAC._Options.commentsEnabled&&(WPAC._Debug("info","Attach form..."),WPAC._DebugSelector("comment form",s.selectorCommentForm),WPAC._DebugSelector("comments container",s.selectorCommentsContainer),WPAC._DebugSelector("respond container",s.selectorRespondContainer),WPAC._DebugSelector("comment paging links",s.selectorCommentPagingLinks,!0),WPAC._DebugSelector("comment links",s.selectorCommentLinks,!0)),s.beforeSelectElements(jQuery(document));(e=jQuery(document).on?function(e,t,o){jQuery(document).on(e,t,o)}:jQuery(document).delegate?function(e,t,o){jQuery(document).delegate(t,e,o)}:function(e,t,o){jQuery(t).live(e,o)})("click",s.selectorCommentPagingLinks,function(e){var t=jQuery(this).attr("href");t&&(e.preventDefault(),WPAC.LoadComments(t,{selectorCommentForm:s.selectorCommentForm,selectorCommentsContainer:s.selectorCommentsContainer,selectorRespondContainer:s.selectorRespondContainer,beforeSelectElements:s.beforeSelectElements,beforeUpdateComments:s.beforeUpdateComments,afterUpdateComments:s.afterUpdateComments}))});e("click",s.selectorCommentLinks,function(e){var t,o,n=jQuery(this);n.is(s.selectorCommentPagingLinks)||(t=n.attr("href"),o="#"+new Uri(t).anchor(),0<jQuery(o).length&&(s.updateUrl&&WPAC._UpdateUrl(t),WPAC._ScrollToAnchor(o,s.updateUrl),e.preventDefault()))}),WPAC._Options.commentsEnabled&&e("submit",s.selectorCommentForm,function(e){var o=jQuery(this);s.beforeSubmitComment();var r,i,t=o.attr("action");WPAC._TestCrossDomainScripting(t)?WPAC._Options.debug&&!o.data("submitCrossDomain")&&(WPAC._Debug("error","Cross-domain scripting detected (submit url: '%s'), cancel AJAX request",t),WPAC._Debug("info","Sleep for 5s to enable analyzing debug messages..."),e.preventDefault(),o.data("submitCrossDomain",!0),window.setTimeout(function(){jQuery("#submit",o).remove(),o.submit()},5e3)):(e.preventDefault(),o.data("WPAC_SUBMITTING")?WPAC._Debug("info","Cancel submit, form is already submitting (Form: %o)",o):(o.data("WPAC_SUBMITTING",!0),WPAC._ShowMessage(WPAC._Options.textPostComment,"loading"),r=function(e){WPAC._Debug("info","Comment has not been posted"),WPAC._Debug("info","Try to extract error message (selector: '%s')...",WPAC._Options.selectorErrorContainer);var t=WPAC._ExtractBody(e);if(!1!==t){var o=t.find(WPAC._Options.selectorErrorContainer);if(o.length)return o=o.html(),WPAC._Debug("info","Error message '%s' successfully extracted",o),void WPAC._ShowMessage(o,"error")}WPAC._Debug("error","Error message could not be extracted, use error message '%s'.",WPAC._Options.textUnknownError),WPAC._ShowMessage(WPAC._Options.textUnknownError,"error")},i=jQuery.ajax({url:t,type:"POST",data:o.serialize(),beforeSend:function(e){e.setRequestHeader("X-WPAC-REQUEST","1")},complete:function(e,t){o.removeData("WPAC_SUBMITTING",!0)},success:function(e){if(i.getResponseHeader("X-WPAC-ERROR"))return WPAC._Debug("info","Found error state X-WPAC-ERROR header.",t),void r(e);WPAC._Debug("info","Comment has been posted");var t=i.getResponseHeader("X-WPAC-URL");WPAC._Debug("info","Found comment URL '%s' in X-WPAC-URL header.",t);var o,n=i.getResponseHeader("X-WPAC-UNAPPROVED");WPAC._Debug("info","Found unapproved state '%s' in X-WPAC-UNAPPROVED",n),s.afterPostComment(t,"1"==n),WPAC._ShowMessage("1"==n?WPAC._Options.textPostedUnapproved:WPAC._Options.textPosted,"success"),WPAC._ReplaceComments(e,t,!1,{},"",s.selectorCommentsContainer,s.selectorCommentForm,s.selectorRespondContainer,s.beforeSelectElements,s.beforeUpdateComments,s.afterUpdateComments)&&t&&(s.updateUrl&&WPAC._UpdateUrl(t),!s.scrollToAnchor||(o=0<=t.indexOf("#")?t.substr(t.indexOf("#")):null)&&(WPAC._Debug("info","Anchor '%s' extracted from comment URL '%s'",o,t),WPAC._ScrollToAnchor(o,s.updateUrl)))},error:function(e,t,o){if(0===e.status&&""===e.responseText)return WPAC._Debug("error","Comment seems to be posted, but loading comment update failed."),void WPAC._LoadFallbackUrl(WPAC._AddQueryParamStringToUrl(window.location.href,"WPACFallback","1"));r(e.responseText)}})))})},WPAC._Initialized=!1,WPAC.Init=function(){if(WPAC._Initialized)return WPAC._Debug("info","Abort initialization (plugin already initialized)"),!1;if(WPAC._Initialized=!0,!WPAC._Options||!WPAC._Callbacks)return WPAC._Debug("error","Something unexpected happened, initialization failed. Please try to reinstall the plugin."),!1;if(WPAC._Debug("info","Initializing version %s",WPAC._Options.version),WPAC._Options.debug){if(!jQuery||!jQuery.fn||!jQuery.fn.jquery)return WPAC._Debug("error","jQuery not found, abort initialization. Please try to reinstall the plugin."),!1;if(WPAC._Debug("info","Found jQuery %s",jQuery.fn.jquery),!jQuery.blockUI||!jQuery.blockUI.version)return WPAC._Debug("error","jQuery blockUI not found, abort initialization. Please try to reinstall the plugin."),!1;if(WPAC._Debug("info","Found jQuery blockUI %s",jQuery.blockUI.version),!jQuery.idleTimer)return WPAC._Debug("error","jQuery Idle Timer plugin not found, abort initialization. Please try to reinstall the plugin."),!1;WPAC._Debug("info","Found jQuery Idle Timer plugin")}return WPAC._Options.selectorPostContainer?(WPAC._Debug("info","Multiple comment form support enabled (selector: '%s')",WPAC._Options.selectorPostContainer),jQuery(WPAC._Options.selectorPostContainer).each(function(e,t){var o=jQuery(t).attr("id");o?WPAC.AttachForm({selectorCommentForm:"#"+o+" "+WPAC._Options.selectorCommentForm,selectorCommentPagingLinks:"#"+o+" "+WPAC._Options.selectorCommentPagingLinks,selectorCommentsContainer:"#"+o+" "+WPAC._Options.selectorCommentsContainer,selectorRespondContainer:"#"+o+" "+WPAC._Options.selectorRespondContainer}):WPAC._Debug("info","Skip post container element %o (ID not defined)",t)})):WPAC.AttachForm(),WPAC._Options.commentsEnabled&&0<WPAC._Options.autoUpdateIdleTime&&(WPAC._Debug("info","Auto updating comments enabled (idle time: %s)",WPAC._Options.autoUpdateIdleTime),WPAC._InitIdleTimer()),WPAC._Debug("info","Initialization completed"),!0},WPAC._OnIdle=function(){WPAC.RefreshComments({success:WPAC._InitIdleTimer,scrollToAnchor:!1})},WPAC._InitIdleTimer=function(){WPAC._TestFallbackUrl(location.href)?WPAC._Debug("error","Fallback URL was detected (url: '%s'), cancel init idle timer",location.href):(jQuery(document).idleTimer("destroy"),jQuery(document).idleTimer(WPAC._Options.autoUpdateIdleTime),jQuery(document).on("idle.idleTimer",WPAC._OnIdle))},WPAC.RefreshComments=function(e){var t=location.href;return WPAC._TestFallbackUrl(location.href)?(WPAC._Debug("error","Fallback URL was detected (url: '%s'), cancel AJAX request",t),!1):WPAC.LoadComments(t,e)},WPAC.LoadComments=function(n,r){if(WPAC._TestCrossDomainScripting(n))return WPAC._Debug("error","Cross-domain scripting detected (url: '%s'), cancel AJAX request",n),!1;"boolean"==typeof r&&(r={scrollToAnchor:r}),r=jQuery.extend({scrollToAnchor:!WPAC._Options.disableScrollToAnchor,showLoadingInfo:!0,updateUrl:!WPAC._Options.disableUrlUpdate,success:function(){},selectorCommentForm:WPAC._Options.selectorCommentForm,selectorCommentsContainer:WPAC._Options.selectorCommentsContainer,selectorRespondContainer:WPAC._Options.selectorRespondContainer,disableCache:WPAC._Options.disableCache,beforeSelectElements:WPAC._Callbacks.beforeSelectElements,beforeUpdateComments:WPAC._Callbacks.beforeUpdateComments,afterUpdateComments:WPAC._Callbacks.afterUpdateComments},r||{});var i=jQuery(r.selectorCommentForm).serializeArray(),s=document.activeElement?jQuery("[name='"+document.activeElement.name+"']",r.selectorCommentForm).attr("name"):"";r.showLoadingInfo&&WPAC._ShowMessage(WPAC._Options.textRefreshComments,"loading"),r.disableCache&&(n=WPAC._AddQueryParamStringToUrl(n,"WPACRandom",(new Date).getTime()));jQuery.ajax({url:n,type:"GET",beforeSend:function(e){e.setRequestHeader("X-WPAC-REQUEST","1")},success:function(e){var t,o;WPAC._ReplaceComments(e,n,!0,i,s,r.selectorCommentsContainer,r.selectorCommentForm,r.selectorRespondContainer,r.beforeSelectElements,r.beforeUpdateComments,r.afterUpdateComments)&&(r.updateUrl&&WPAC._UpdateUrl(n),t=!1,!r.scrollToAnchor||(o=0<=n.indexOf("#")?n.substr(n.indexOf("#")):null)&&(WPAC._Debug("info","Anchor '%s' extracted from url",o),WPAC._ScrollToAnchor(o,r.updateUrl,function(){r.success()})&&(t=!0)),jQuery.unblockUI(),t||r.success())},error:function(){WPAC._LoadFallbackUrl(WPAC._AddQueryParamStringToUrl(window.location.href,"WPACFallback","1"))}});return!0},jQuery(function(){var e=WPAC.Init();if(WPAC._Options.loadCommentsAsync){if(!e)return void WPAC._LoadFallbackUrl(WPAC._AddQueryParamStringToUrl(window.location.href,"WPACFallback","1"));var t=WPAC._Options.asyncLoadTrigger;WPAC._Debug("info","Loading comments asynchronously with secondary AJAX request (trigger: '%s')",t),window.location.hash&&(/^#comment-[0-9]+$/.test(window.location.hash)&&(WPAC._Debug("info","Comment anchor in URL detected, force loading comments on DomReady (hash: '%s')",window.location.hash),t="DomReady")),"Viewport"==t?jQuery(WPAC._Options.selectorCommentsContainer).waypoint(function(e){this.destroy(),WPAC.RefreshComments()},{offset:"100%"}):"DomReady"==t&&WPAC.RefreshComments({scrollToAnchor:!0})}});
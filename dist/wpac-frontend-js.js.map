{"version":3,"file":"wpac-frontend-js.js","mappings":"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","sources":["webpack://wp-ajaxify-comments/./src/js/frontend/idle-timer.js","webpack://wp-ajaxify-comments/./src/js/frontend/jquery.blockUI.js","webpack://wp-ajaxify-comments/./src/js/frontend/jquery.waypoints.js","webpack://wp-ajaxify-comments/./src/js/frontend/jsuri.js","webpack://wp-ajaxify-comments/./src/js/frontend/wp-ajaxify-comments.js","webpack://wp-ajaxify-comments/external window \"jQuery\"","webpack://wp-ajaxify-comments/webpack/bootstrap","webpack://wp-ajaxify-comments/webpack/runtime/amd options","webpack://wp-ajaxify-comments/webpack/runtime/compat get default export","webpack://wp-ajaxify-comments/webpack/runtime/define property getters","webpack://wp-ajaxify-comments/webpack/runtime/hasOwnProperty shorthand","webpack://wp-ajaxify-comments/webpack/runtime/make namespace object","webpack://wp-ajaxify-comments/./src/js/frontend/index.js"],"sourcesContent":["/*! Idle Timer - v1.1.1 - 2020-06-25\n* https://github.com/thorst/jquery-idletimer\n* Copyright (c) 2020 Paul Irish; Licensed MIT */\n/*\n\tmousewheel (deprecated) -> IE6.0, Chrome, Opera, Safari\n\tDOMMouseScroll (deprecated) -> Firefox 1.0\n\twheel (standard) -> Chrome 31, Firefox 17, IE9, Firefox Mobile 17.0\n\n\t//No need to use, use DOMMouseScroll\n\tMozMousePixelScroll -> Firefox 3.5, Firefox Mobile 1.0\n\n\t//Events\n\tWheelEvent -> see wheel\n\tMouseWheelEvent -> see mousewheel\n\tMouseScrollEvent -> Firefox 3.5, Firefox Mobile 1.0\n*/\n(function ($) {\n\n    $.idleTimer = function (firstParam, elem) {\n        var opts;\n        if ( typeof firstParam === \"object\" ) {\n            opts = firstParam;\n            firstParam = null;\n        } else if (typeof firstParam === \"number\") {\n            opts = { timeout: firstParam };\n            firstParam = null;\n        }\n\n        // element to watch\n        elem = elem || document;\n\n        // defaults that are to be stored as instance props on the elem\n        opts = $.extend({\n            idle: false,                // indicates if the user is idle\n            timeout: 30000,             // the amount of time (ms) before the user is considered idle\n            events: \"mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove\" // define active events\n        }, opts);\n\n        var jqElem = $(elem),\n            obj = jqElem.data(\"idleTimerObj\") || {},\n\n            /* (intentionally not documented)\n             * Toggles the idle state and fires an appropriate event.\n             * @return {void}\n             */\n            toggleIdleState = function (e) {\n                var obj = $.data(elem, \"idleTimerObj\") || {};\n\n                // toggle the state\n                obj.idle = !obj.idle;\n\n                // store toggle state date time\n                obj.olddate = +new Date();\n\n                // create a custom event, with state and name space\n                var event = $.Event((obj.idle ? \"idle\" : \"active\") + \".idleTimer\");\n\n                // trigger event on object with elem and copy of obj\n                $(elem).trigger(event, [elem, $.extend({}, obj), e]);\n            },\n            /**\n             * Handle event triggers\n             * @return {void}\n             * @method event\n             * @static\n             */\n            handleEvent = function (e) {\n                var obj = $.data(elem, \"idleTimerObj\") || {};\n\n\t\t// ignore writting to storage unless related to idleTimer\n                if (e.type === \"storage\" && e.originalEvent.key !== obj.timerSyncId) {\n                    return;\n                }\n\n                // this is already paused, ignore events for now\n                if (obj.remaining != null) { return; }\n\n                /*\n                mousemove is kinda buggy, it can be triggered when it should be idle.\n                Typically is happening between 115 - 150 milliseconds after idle triggered.\n                @psyafter & @kaellis report \"always triggered if using modal (jQuery ui, with overlay)\"\n                @thorst has similar issues on ios7 \"after $.scrollTop() on text area\"\n                */\n                if (e.type === \"mousemove\") {\n                    // if coord are same, it didn't move\n                    if (e.pageX === obj.pageX && e.pageY === obj.pageY) {\n                        return;\n                    }\n                    // if coord don't exist how could it move\n                    if (typeof e.pageX === \"undefined\" && typeof e.pageY === \"undefined\") {\n                        return;\n                    }\n                    // under 200 ms is hard to do, and you would have to stop, as continuous activity will bypass this\n                    var elapsed = (+new Date()) - obj.olddate;\n                    if (elapsed < 200) {\n                        return;\n                    }\n                }\n\n                // clear any existing timeout\n                clearTimeout(obj.tId);\n\n                // if the idle timer is enabled, flip\n                if (obj.idle) {\n                    toggleIdleState(e);\n                }\n\n                // store when user was last active\n                obj.lastActive = +new Date();\n\n                // update mouse coord\n                obj.pageX = e.pageX;\n                obj.pageY = e.pageY;\n\n                // sync lastActive\n                if (e.type !== \"storage\" && obj.timerSyncId) {\n                  if (typeof(localStorage) !== \"undefined\") {\n                    localStorage.setItem(obj.timerSyncId, obj.lastActive);\n                  }\n                }\n\n                // set a new timeout\n                obj.tId = setTimeout(toggleIdleState, obj.timeout);\n            },\n            /**\n             * Restore initial settings and restart timer\n             * @return {void}\n             * @method reset\n             * @static\n             */\n            reset = function () {\n\n                var obj = $.data(elem, \"idleTimerObj\") || {};\n\n                // reset settings\n                obj.idle = obj.idleBackup;\n                obj.olddate = +new Date();\n                obj.lastActive = obj.olddate;\n                obj.remaining = null;\n\n                // reset Timers\n                clearTimeout(obj.tId);\n                if (!obj.idle) {\n                    obj.tId = setTimeout(toggleIdleState, obj.timeout);\n                }\n\n            },\n            /**\n             * Store remaining time, stop timer\n             * You can pause from an idle OR active state\n             * @return {void}\n             * @method pause\n             * @static\n             */\n            pause = function () {\n\n                var obj = $.data(elem, \"idleTimerObj\") || {};\n\n                // this is already paused\n                if ( obj.remaining != null ) { return; }\n\n                // define how much is left on the timer\n                obj.remaining = obj.timeout - ((+new Date()) - obj.olddate);\n\n                // clear any existing timeout\n                clearTimeout(obj.tId);\n            },\n            /**\n             * Start timer with remaining value\n             * @return {void}\n             * @method resume\n             * @static\n             */\n            resume = function () {\n\n                var obj = $.data(elem, \"idleTimerObj\") || {};\n\n                // this isn't paused yet\n                if ( obj.remaining == null ) { return; }\n\n                // start timer\n                if ( !obj.idle ) {\n                    obj.tId = setTimeout(toggleIdleState, obj.remaining);\n                }\n\n                // clear remaining\n                obj.remaining = null;\n            },\n            /**\n             * Stops the idle timer. This removes appropriate event handlers\n             * and cancels any pending timeouts.\n             * @return {void}\n             * @method destroy\n             * @static\n             */\n            destroy = function () {\n\n                var obj = $.data(elem, \"idleTimerObj\") || {};\n\n                //clear any pending timeouts\n                clearTimeout(obj.tId);\n\n                //Remove data\n                jqElem.removeData(\"idleTimerObj\");\n\n                //detach the event handlers\n                jqElem.off(\"._idleTimer\");\n            },\n            /**\n            * Returns the time until becoming idle\n            * @return {number}\n            * @method remainingtime\n            * @static\n            */\n            remainingtime = function () {\n\n                var obj = $.data(elem, \"idleTimerObj\") || {};\n\n                //If idle there is no time remaining\n                if ( obj.idle ) { return 0; }\n\n                //If its paused just return that\n                if ( obj.remaining != null ) { return obj.remaining; }\n\n                //Determine remaining, if negative idle didn't finish flipping, just return 0\n                var remaining = obj.timeout - ((+new Date()) - obj.lastActive);\n                if (remaining < 0) { remaining = 0; }\n\n                //If this is paused return that number, else return current remaining\n                return remaining;\n            };\n\n\n        // determine which function to call\n        if (firstParam === null && typeof obj.idle !== \"undefined\") {\n            // they think they want to init, but it already is, just reset\n            reset();\n            return jqElem;\n        } else if (firstParam === null) {\n            // they want to init\n        } else if (firstParam !== null && typeof obj.idle === \"undefined\") {\n            // they want to do something, but it isnt init\n            // not sure the best way to handle this\n            return false;\n        } else if (firstParam === \"destroy\") {\n            destroy();\n            return jqElem;\n        } else if (firstParam === \"pause\") {\n            pause();\n            return jqElem;\n        } else if (firstParam === \"resume\") {\n            resume();\n            return jqElem;\n        } else if (firstParam === \"reset\") {\n            reset();\n            return jqElem;\n        } else if (firstParam === \"getRemainingTime\") {\n            return remainingtime();\n        } else if (firstParam === \"getElapsedTime\") {\n            return (+new Date()) - obj.olddate;\n        } else if (firstParam === \"getLastActiveTime\") {\n            return obj.lastActive;\n        } else if (firstParam === \"isIdle\") {\n            return obj.idle;\n        }\n\n\t// Test via a getter in the options object to see if the passive property is accessed\n\t// This isnt working in jquery, though is planned for 4.0\n\t// https://github.com/jquery/jquery/issues/2871\n        /*var supportsPassive = false;\n        try {\n            var Popts = Object.defineProperty({}, \"passive\", {\n                get: function() {\n                    supportsPassive = true;\n                }\n            });\n            window.addEventListener(\"test\", null, Popts);\n        } catch (e) {}\n\t*/\n\n        /* (intentionally not documented)\n         * Handles a user event indicating that the user isn't idle. namespaced with internal idleTimer\n         * @param {Event} event A DOM2-normalized event object.\n         * @return {void}\n         */\n        jqElem.on((opts.events + \" \").split(\" \").join(\"._idleTimer \").trim(), function (e) {\n            handleEvent(e);\n        });\n        //}, supportsPassive ? { passive: true } : false);\n\n        if (opts.timerSyncId) {\n            $(window).on(\"storage\", handleEvent);\n        }\n\n        // Internal Object Properties, This isn't all necessary, but we\n        // explicitly define all keys here so we know what we are working with\n        obj = $.extend({}, {\n            olddate : +new Date(),          // the last time state changed\n            lastActive: +new Date(),       // the last time timer was active\n            idle : opts.idle,               // current state\n            idleBackup : opts.idle,         // backup of idle parameter since it gets modified\n            timeout : opts.timeout,         // the interval to change state\n            remaining : null,               // how long until state changes\n            timerSyncId : opts.timerSyncId, // localStorage key to use for syncing this timer\n            tId : null,                     // the idle timer setTimeout\n            pageX : null,                   // used to store the mouse coord\n            pageY : null\n        });\n\n        // set a timeout to toggle state. May wish to omit this in some situations\n        if (!obj.idle) {\n            obj.tId = setTimeout(toggleIdleState, obj.timeout);\n        }\n\n        // store our instance on the object\n        $.data(elem, \"idleTimerObj\", obj);\n\n        return jqElem;\n    };\n\n    // This allows binding to element\n    $.fn.idleTimer = function (firstParam) {\n        if (this[0]) {\n            return $.idleTimer(firstParam, this[0]);\n        }\n\n        return this;\n    };\n\n})(jQuery);","/*!\n * jQuery blockUI plugin\n * Version 2.70.0-2014.11.23\n * Requires jQuery v1.7 or later\n *\n * Examples at: http://malsup.com/jquery/block/\n * Copyright (c) 2007-2013 M. Alsup\n * Dual licensed under the MIT and GPL licenses:\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.gnu.org/licenses/gpl.html\n *\n * Thanks to Amir-Hossein Sobhi for some excellent contributions!\n */\n\n;(function() {\n\t/*jshint eqeqeq:false curly:false latedef:false */\n\t\"use strict\";\n\t\n\t\tfunction setup($) {\n\t\t\t$.fn._fadeIn = $.fn.fadeIn;\n\t\n\t\t\tvar noOp = $.noop || function() {};\n\t\n\t\t\t// this bit is to ensure we don't call setExpression when we shouldn't (with extra muscle to handle\n\t\t\t// confusing userAgent strings on Vista)\n\t\t\tvar msie = /MSIE/.test(navigator.userAgent);\n\t\t\tvar ie6  = /MSIE 6.0/.test(navigator.userAgent) && ! /MSIE 8.0/.test(navigator.userAgent);\n\t\t\tvar mode = document.documentMode || 0;\n\t\t\tvar setExpr = $.isFunction( document.createElement('div').style.setExpression );\n\t\n\t\t\t// global $ methods for blocking/unblocking the entire page\n\t\t\t$.blockUI   = function(opts) { install(window, opts); };\n\t\t\t$.unblockUI = function(opts) { remove(window, opts); };\n\t\n\t\t\t// convenience method for quick growl-like notifications  (http://www.google.com/search?q=growl)\n\t\t\t$.growlUI = function(title, message, timeout, onClose) {\n\t\t\t\tvar $m = $('<div class=\"growlUI\"></div>');\n\t\t\t\tif (title) $m.append('<h1>'+title+'</h1>');\n\t\t\t\tif (message) $m.append('<h2>'+message+'</h2>');\n\t\t\t\tif (timeout === undefined) timeout = 3000;\n\t\n\t\t\t\t// Added by konapun: Set timeout to 30 seconds if this growl is moused over, like normal toast notifications\n\t\t\t\tvar callBlock = function(opts) {\n\t\t\t\t\topts = opts || {};\n\t\n\t\t\t\t\t$.blockUI({\n\t\t\t\t\t\tmessage: $m,\n\t\t\t\t\t\tfadeIn : typeof opts.fadeIn  !== 'undefined' ? opts.fadeIn  : 700,\n\t\t\t\t\t\tfadeOut: typeof opts.fadeOut !== 'undefined' ? opts.fadeOut : 1000,\n\t\t\t\t\t\ttimeout: typeof opts.timeout !== 'undefined' ? opts.timeout : timeout,\n\t\t\t\t\t\tcenterY: false,\n\t\t\t\t\t\tshowOverlay: false,\n\t\t\t\t\t\tonUnblock: onClose,\n\t\t\t\t\t\tcss: $.blockUI.defaults.growlCSS\n\t\t\t\t\t});\n\t\t\t\t};\n\t\n\t\t\t\tcallBlock();\n\t\t\t\tvar nonmousedOpacity = $m.css('opacity');\n\t\t\t\t$m.mouseover(function() {\n\t\t\t\t\tcallBlock({\n\t\t\t\t\t\tfadeIn: 0,\n\t\t\t\t\t\ttimeout: 30000\n\t\t\t\t\t});\n\t\n\t\t\t\t\tvar displayBlock = $('.blockMsg');\n\t\t\t\t\tdisplayBlock.stop(); // cancel fadeout if it has started\n\t\t\t\t\tdisplayBlock.fadeTo(300, 1); // make it easier to read the message by removing transparency\n\t\t\t\t}).mouseout(function() {\n\t\t\t\t\t$('.blockMsg').fadeOut(1000);\n\t\t\t\t});\n\t\t\t\t// End konapun additions\n\t\t\t};\n\t\n\t\t\t// plugin method for blocking element content\n\t\t\t$.fn.block = function(opts) {\n\t\t\t\tif ( this[0] === window ) {\n\t\t\t\t\t$.blockUI( opts );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tvar fullOpts = $.extend({}, $.blockUI.defaults, opts || {});\n\t\t\t\tthis.each(function() {\n\t\t\t\t\tvar $el = $(this);\n\t\t\t\t\tif (fullOpts.ignoreIfBlocked && $el.data('blockUI.isBlocked'))\n\t\t\t\t\t\treturn;\n\t\t\t\t\t$el.unblock({ fadeOut: 0 });\n\t\t\t\t});\n\t\n\t\t\t\treturn this.each(function() {\n\t\t\t\t\tif ($.css(this,'position') == 'static') {\n\t\t\t\t\t\tthis.style.position = 'relative';\n\t\t\t\t\t\t$(this).data('blockUI.static', true);\n\t\t\t\t\t}\n\t\t\t\t\tthis.style.zoom = 1; // force 'hasLayout' in ie\n\t\t\t\t\tinstall(this, opts);\n\t\t\t\t});\n\t\t\t};\n\t\n\t\t\t// plugin method for unblocking element content\n\t\t\t$.fn.unblock = function(opts) {\n\t\t\t\tif ( this[0] === window ) {\n\t\t\t\t\t$.unblockUI( opts );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\treturn this.each(function() {\n\t\t\t\t\tremove(this, opts);\n\t\t\t\t});\n\t\t\t};\n\t\n\t\t\t$.blockUI.version = 2.70; // 2nd generation blocking at no extra cost!\n\t\n\t\t\t// override these in your code to change the default behavior and style\n\t\t\t$.blockUI.defaults = {\n\t\t\t\t// message displayed when blocking (use null for no message)\n\t\t\t\tmessage:  '<h1>Please wait...</h1>',\n\t\n\t\t\t\ttitle: null,\t\t// title string; only used when theme == true\n\t\t\t\tdraggable: true,\t// only used when theme == true (requires jquery-ui.js to be loaded)\n\t\n\t\t\t\ttheme: false, // set to true to use with jQuery UI themes\n\t\n\t\t\t\t// styles for the message when blocking; if you wish to disable\n\t\t\t\t// these and use an external stylesheet then do this in your code:\n\t\t\t\t// $.blockUI.defaults.css = {};\n\t\t\t\tcss: {\n\t\t\t\t\tpadding:\t0,\n\t\t\t\t\tmargin:\t\t0,\n\t\t\t\t\twidth:\t\t'30%',\n\t\t\t\t\ttop:\t\t'40%',\n\t\t\t\t\tleft:\t\t'35%',\n\t\t\t\t\ttextAlign:\t'center',\n\t\t\t\t\tcolor:\t\t'#000',\n\t\t\t\t\tborder:\t\t'3px solid #aaa',\n\t\t\t\t\tbackgroundColor:'#fff',\n\t\t\t\t\tcursor:\t\t'wait'\n\t\t\t\t},\n\t\n\t\t\t\t// minimal style set used when themes are used\n\t\t\t\tthemedCSS: {\n\t\t\t\t\twidth:\t'30%',\n\t\t\t\t\ttop:\t'40%',\n\t\t\t\t\tleft:\t'35%'\n\t\t\t\t},\n\t\n\t\t\t\t// styles for the overlay\n\t\t\t\toverlayCSS:  {\n\t\t\t\t\tbackgroundColor:\t'#000',\n\t\t\t\t\topacity:\t\t\t0.6,\n\t\t\t\t\tcursor:\t\t\t\t'wait'\n\t\t\t\t},\n\t\n\t\t\t\t// style to replace wait cursor before unblocking to correct issue\n\t\t\t\t// of lingering wait cursor\n\t\t\t\tcursorReset: 'default',\n\t\n\t\t\t\t// styles applied when using $.growlUI\n\t\t\t\tgrowlCSS: {\n\t\t\t\t\twidth:\t\t'350px',\n\t\t\t\t\ttop:\t\t'10px',\n\t\t\t\t\tleft:\t\t'',\n\t\t\t\t\tright:\t\t'10px',\n\t\t\t\t\tborder:\t\t'none',\n\t\t\t\t\tpadding:\t'5px',\n\t\t\t\t\topacity:\t0.6,\n\t\t\t\t\tcursor:\t\t'default',\n\t\t\t\t\tcolor:\t\t'#fff',\n\t\t\t\t\tbackgroundColor: '#000',\n\t\t\t\t\t'-webkit-border-radius':'10px',\n\t\t\t\t\t'-moz-border-radius':\t'10px',\n\t\t\t\t\t'border-radius':\t\t'10px'\n\t\t\t\t},\n\t\n\t\t\t\t// IE issues: 'about:blank' fails on HTTPS and javascript:false is s-l-o-w\n\t\t\t\t// (hat tip to Jorge H. N. de Vasconcelos)\n\t\t\t\t/*jshint scripturl:true */\n\t\t\t\tiframeSrc: /^https/i.test(window.location.href || '') ? 'javascript:false' : 'about:blank',\n\t\n\t\t\t\t// force usage of iframe in non-IE browsers (handy for blocking applets)\n\t\t\t\tforceIframe: false,\n\t\n\t\t\t\t// z-index for the blocking overlay\n\t\t\t\tbaseZ: 1000,\n\t\n\t\t\t\t// set these to true to have the message automatically centered\n\t\t\t\tcenterX: true, // <-- only effects element blocking (page block controlled via css above)\n\t\t\t\tcenterY: true,\n\t\n\t\t\t\t// allow body element to be stetched in ie6; this makes blocking look better\n\t\t\t\t// on \"short\" pages.  disable if you wish to prevent changes to the body height\n\t\t\t\tallowBodyStretch: true,\n\t\n\t\t\t\t// enable if you want key and mouse events to be disabled for content that is blocked\n\t\t\t\tbindEvents: true,\n\t\n\t\t\t\t// be default blockUI will supress tab navigation from leaving blocking content\n\t\t\t\t// (if bindEvents is true)\n\t\t\t\tconstrainTabKey: true,\n\t\n\t\t\t\t// fadeIn time in millis; set to 0 to disable fadeIn on block\n\t\t\t\tfadeIn:  200,\n\t\n\t\t\t\t// fadeOut time in millis; set to 0 to disable fadeOut on unblock\n\t\t\t\tfadeOut:  400,\n\t\n\t\t\t\t// time in millis to wait before auto-unblocking; set to 0 to disable auto-unblock\n\t\t\t\ttimeout: 0,\n\t\n\t\t\t\t// disable if you don't want to show the overlay\n\t\t\t\tshowOverlay: true,\n\t\n\t\t\t\t// if true, focus will be placed in the first available input field when\n\t\t\t\t// page blocking\n\t\t\t\tfocusInput: true,\n\t\n\t\t\t\t// elements that can receive focus\n\t\t\t\tfocusableElements: ':input:enabled:visible',\n\t\n\t\t\t\t// suppresses the use of overlay styles on FF/Linux (due to performance issues with opacity)\n\t\t\t\t// no longer needed in 2012\n\t\t\t\t// applyPlatformOpacityRules: true,\n\t\n\t\t\t\t// callback method invoked when fadeIn has completed and blocking message is visible\n\t\t\t\tonBlock: null,\n\t\n\t\t\t\t// callback method invoked when unblocking has completed; the callback is\n\t\t\t\t// passed the element that has been unblocked (which is the window object for page\n\t\t\t\t// blocks) and the options that were passed to the unblock call:\n\t\t\t\t//\tonUnblock(element, options)\n\t\t\t\tonUnblock: null,\n\t\n\t\t\t\t// callback method invoked when the overlay area is clicked.\n\t\t\t\t// setting this will turn the cursor to a pointer, otherwise cursor defined in overlayCss will be used.\n\t\t\t\tonOverlayClick: null,\n\t\n\t\t\t\t// don't ask; if you really must know: http://groups.google.com/group/jquery-en/browse_thread/thread/36640a8730503595/2f6a79a77a78e493#2f6a79a77a78e493\n\t\t\t\tquirksmodeOffsetHack: 4,\n\t\n\t\t\t\t// class name of the message block\n\t\t\t\tblockMsgClass: 'blockMsg',\n\t\n\t\t\t\t// if it is already blocked, then ignore it (don't unblock and reblock)\n\t\t\t\tignoreIfBlocked: false\n\t\t\t};\n\t\n\t\t\t// private data and functions follow...\n\t\n\t\t\tvar pageBlock = null;\n\t\t\tvar pageBlockEls = [];\n\t\n\t\t\tfunction install(el, opts) {\n\t\t\t\tvar css, themedCSS;\n\t\t\t\tvar full = (el == window);\n\t\t\t\tvar msg = (opts && opts.message !== undefined ? opts.message : undefined);\n\t\t\t\topts = $.extend({}, $.blockUI.defaults, opts || {});\n\t\n\t\t\t\tif (opts.ignoreIfBlocked && $(el).data('blockUI.isBlocked'))\n\t\t\t\t\treturn;\n\t\n\t\t\t\topts.overlayCSS = $.extend({}, $.blockUI.defaults.overlayCSS, opts.overlayCSS || {});\n\t\t\t\tcss = $.extend({}, $.blockUI.defaults.css, opts.css || {});\n\t\t\t\tif (opts.onOverlayClick)\n\t\t\t\t\topts.overlayCSS.cursor = 'pointer';\n\t\n\t\t\t\tthemedCSS = $.extend({}, $.blockUI.defaults.themedCSS, opts.themedCSS || {});\n\t\t\t\tmsg = msg === undefined ? opts.message : msg;\n\t\n\t\t\t\t// remove the current block (if there is one)\n\t\t\t\tif (full && pageBlock)\n\t\t\t\t\tremove(window, {fadeOut:0});\n\t\n\t\t\t\t// if an existing element is being used as the blocking content then we capture\n\t\t\t\t// its current place in the DOM (and current display style) so we can restore\n\t\t\t\t// it when we unblock\n\t\t\t\tif (msg && typeof msg != 'string' && (msg.parentNode || msg.jquery)) {\n\t\t\t\t\tvar node = msg.jquery ? msg[0] : msg;\n\t\t\t\t\tvar data = {};\n\t\t\t\t\t$(el).data('blockUI.history', data);\n\t\t\t\t\tdata.el = node;\n\t\t\t\t\tdata.parent = node.parentNode;\n\t\t\t\t\tdata.display = node.style.display;\n\t\t\t\t\tdata.position = node.style.position;\n\t\t\t\t\tif (data.parent)\n\t\t\t\t\t\tdata.parent.removeChild(node);\n\t\t\t\t}\n\t\n\t\t\t\t$(el).data('blockUI.onUnblock', opts.onUnblock);\n\t\t\t\tvar z = opts.baseZ;\n\t\n\t\t\t\t// blockUI uses 3 layers for blocking, for simplicity they are all used on every platform;\n\t\t\t\t// layer1 is the iframe layer which is used to supress bleed through of underlying content\n\t\t\t\t// layer2 is the overlay layer which has opacity and a wait cursor (by default)\n\t\t\t\t// layer3 is the message content that is displayed while blocking\n\t\t\t\tvar lyr1, lyr2, lyr3, s;\n\t\t\t\tif (msie || opts.forceIframe)\n\t\t\t\t\tlyr1 = $('<iframe class=\"blockUI\" style=\"z-index:'+ (z++) +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0\" src=\"'+opts.iframeSrc+'\"></iframe>');\n\t\t\t\telse\n\t\t\t\t\tlyr1 = $('<div class=\"blockUI\" style=\"display:none\"></div>');\n\t\n\t\t\t\tif (opts.theme)\n\t\t\t\t\tlyr2 = $('<div class=\"blockUI blockOverlay ui-widget-overlay\" style=\"z-index:'+ (z++) +';display:none\"></div>');\n\t\t\t\telse\n\t\t\t\t\tlyr2 = $('<div class=\"blockUI blockOverlay\" style=\"z-index:'+ (z++) +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0\"></div>');\n\t\n\t\t\t\tif (opts.theme && full) {\n\t\t\t\t\ts = '<div class=\"blockUI ' + opts.blockMsgClass + ' blockPage ui-dialog ui-widget ui-corner-all\" style=\"z-index:'+(z+10)+';display:none;position:fixed\">';\n\t\t\t\t\tif ( opts.title ) {\n\t\t\t\t\t\ts += '<div class=\"ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle\">'+(opts.title || '&nbsp;')+'</div>';\n\t\t\t\t\t}\n\t\t\t\t\ts += '<div class=\"ui-widget-content ui-dialog-content\"></div>';\n\t\t\t\t\ts += '</div>';\n\t\t\t\t}\n\t\t\t\telse if (opts.theme) {\n\t\t\t\t\ts = '<div class=\"blockUI ' + opts.blockMsgClass + ' blockElement ui-dialog ui-widget ui-corner-all\" style=\"z-index:'+(z+10)+';display:none;position:absolute\">';\n\t\t\t\t\tif ( opts.title ) {\n\t\t\t\t\t\ts += '<div class=\"ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle\">'+(opts.title || '&nbsp;')+'</div>';\n\t\t\t\t\t}\n\t\t\t\t\ts += '<div class=\"ui-widget-content ui-dialog-content\"></div>';\n\t\t\t\t\ts += '</div>';\n\t\t\t\t}\n\t\t\t\telse if (full) {\n\t\t\t\t\ts = '<div class=\"blockUI ' + opts.blockMsgClass + ' blockPage\" style=\"z-index:'+(z+10)+';display:none;position:fixed\"></div>';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ts = '<div class=\"blockUI ' + opts.blockMsgClass + ' blockElement\" style=\"z-index:'+(z+10)+';display:none;position:absolute\"></div>';\n\t\t\t\t}\n\t\t\t\tlyr3 = $(s);\n\t\n\t\t\t\t// if we have a message, style it\n\t\t\t\tif (msg) {\n\t\t\t\t\tif (opts.theme) {\n\t\t\t\t\t\tlyr3.css(themedCSS);\n\t\t\t\t\t\tlyr3.addClass('ui-widget-content');\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tlyr3.css(css);\n\t\t\t\t}\n\t\n\t\t\t\t// style the overlay\n\t\t\t\tif (!opts.theme /*&& (!opts.applyPlatformOpacityRules)*/)\n\t\t\t\t\tlyr2.css(opts.overlayCSS);\n\t\t\t\tlyr2.css('position', full ? 'fixed' : 'absolute');\n\t\n\t\t\t\t// make iframe layer transparent in IE\n\t\t\t\tif (msie || opts.forceIframe)\n\t\t\t\t\tlyr1.css('opacity',0.0);\n\t\n\t\t\t\t//$([lyr1[0],lyr2[0],lyr3[0]]).appendTo(full ? 'body' : el);\n\t\t\t\tvar layers = [lyr1,lyr2,lyr3], $par = full ? $('body') : $(el);\n\t\t\t\t$.each(layers, function() {\n\t\t\t\t\tthis.appendTo($par);\n\t\t\t\t});\n\t\n\t\t\t\tif (opts.theme && opts.draggable && $.fn.draggable) {\n\t\t\t\t\tlyr3.draggable({\n\t\t\t\t\t\thandle: '.ui-dialog-titlebar',\n\t\t\t\t\t\tcancel: 'li'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\t// ie7 must use absolute positioning in quirks mode and to account for activex issues (when scrolling)\n\t\t\t\tvar expr = setExpr && (!$.support.boxModel || $('object,embed', full ? null : el).length > 0);\n\t\t\t\tif (ie6 || expr) {\n\t\t\t\t\t// give body 100% height\n\t\t\t\t\tif (full && opts.allowBodyStretch && $.support.boxModel)\n\t\t\t\t\t\t$('html,body').css('height','100%');\n\t\n\t\t\t\t\t// fix ie6 issue when blocked element has a border width\n\t\t\t\t\tif ((ie6 || !$.support.boxModel) && !full) {\n\t\t\t\t\t\tvar t = sz(el,'borderTopWidth'), l = sz(el,'borderLeftWidth');\n\t\t\t\t\t\tvar fixT = t ? '(0 - '+t+')' : 0;\n\t\t\t\t\t\tvar fixL = l ? '(0 - '+l+')' : 0;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// simulate fixed position\n\t\t\t\t\t$.each(layers, function(i,o) {\n\t\t\t\t\t\tvar s = o[0].style;\n\t\t\t\t\t\ts.position = 'absolute';\n\t\t\t\t\t\tif (i < 2) {\n\t\t\t\t\t\t\tif (full)\n\t\t\t\t\t\t\t\ts.setExpression('height','Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:'+opts.quirksmodeOffsetHack+') + \"px\"');\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\ts.setExpression('height','this.parentNode.offsetHeight + \"px\"');\n\t\t\t\t\t\t\tif (full)\n\t\t\t\t\t\t\t\ts.setExpression('width','jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + \"px\"');\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\ts.setExpression('width','this.parentNode.offsetWidth + \"px\"');\n\t\t\t\t\t\t\tif (fixL) s.setExpression('left', fixL);\n\t\t\t\t\t\t\tif (fixT) s.setExpression('top', fixT);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (opts.centerY) {\n\t\t\t\t\t\t\tif (full) s.setExpression('top','(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + \"px\"');\n\t\t\t\t\t\t\ts.marginTop = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (!opts.centerY && full) {\n\t\t\t\t\t\t\tvar top = (opts.css && opts.css.top) ? parseInt(opts.css.top, 10) : 0;\n\t\t\t\t\t\t\tvar expression = '((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + '+top+') + \"px\"';\n\t\t\t\t\t\t\ts.setExpression('top',expression);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\t// show the message\n\t\t\t\tif (msg) {\n\t\t\t\t\tif (opts.theme)\n\t\t\t\t\t\tlyr3.find('.ui-widget-content').append(msg);\n\t\t\t\t\telse\n\t\t\t\t\t\tlyr3.append(msg);\n\t\t\t\t\tif (msg.jquery || msg.nodeType)\n\t\t\t\t\t\t$(msg).show();\n\t\t\t\t}\n\t\n\t\t\t\tif ((msie || opts.forceIframe) && opts.showOverlay)\n\t\t\t\t\tlyr1.show(); // opacity is zero\n\t\t\t\tif (opts.fadeIn) {\n\t\t\t\t\tvar cb = opts.onBlock ? opts.onBlock : noOp;\n\t\t\t\t\tvar cb1 = (opts.showOverlay && !msg) ? cb : noOp;\n\t\t\t\t\tvar cb2 = msg ? cb : noOp;\n\t\t\t\t\tif (opts.showOverlay)\n\t\t\t\t\t\tlyr2._fadeIn(opts.fadeIn, cb1);\n\t\t\t\t\tif (msg)\n\t\t\t\t\t\tlyr3._fadeIn(opts.fadeIn, cb2);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (opts.showOverlay)\n\t\t\t\t\t\tlyr2.show();\n\t\t\t\t\tif (msg)\n\t\t\t\t\t\tlyr3.show();\n\t\t\t\t\tif (opts.onBlock)\n\t\t\t\t\t\topts.onBlock.bind(lyr3)();\n\t\t\t\t}\n\t\n\t\t\t\t// bind key and mouse events\n\t\t\t\tbind(1, el, opts);\n\t\n\t\t\t\tif (full) {\n\t\t\t\t\tpageBlock = lyr3[0];\n\t\t\t\t\tpageBlockEls = $(opts.focusableElements,pageBlock);\n\t\t\t\t\tif (opts.focusInput)\n\t\t\t\t\t\tsetTimeout(focus, 20);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tcenter(lyr3[0], opts.centerX, opts.centerY);\n\t\n\t\t\t\tif (opts.timeout) {\n\t\t\t\t\t// auto-unblock\n\t\t\t\t\tvar to = setTimeout(function() {\n\t\t\t\t\t\tif (full)\n\t\t\t\t\t\t\t$.unblockUI(opts);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\t$(el).unblock(opts);\n\t\t\t\t\t}, opts.timeout);\n\t\t\t\t\t$(el).data('blockUI.timeout', to);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// remove the block\n\t\t\tfunction remove(el, opts) {\n\t\t\t\tvar count;\n\t\t\t\tvar full = (el == window);\n\t\t\t\tvar $el = $(el);\n\t\t\t\tvar data = $el.data('blockUI.history');\n\t\t\t\tvar to = $el.data('blockUI.timeout');\n\t\t\t\tif (to) {\n\t\t\t\t\tclearTimeout(to);\n\t\t\t\t\t$el.removeData('blockUI.timeout');\n\t\t\t\t}\n\t\t\t\topts = $.extend({}, $.blockUI.defaults, opts || {});\n\t\t\t\tbind(0, el, opts); // unbind events\n\t\n\t\t\t\tif (opts.onUnblock === null) {\n\t\t\t\t\topts.onUnblock = $el.data('blockUI.onUnblock');\n\t\t\t\t\t$el.removeData('blockUI.onUnblock');\n\t\t\t\t}\n\t\n\t\t\t\tvar els;\n\t\t\t\tif (full) // crazy selector to handle odd field errors in ie6/7\n\t\t\t\t\tels = $('body').children().filter('.blockUI').add('body > .blockUI');\n\t\t\t\telse\n\t\t\t\t\tels = $el.find('>.blockUI');\n\t\n\t\t\t\t// fix cursor issue\n\t\t\t\tif ( opts.cursorReset ) {\n\t\t\t\t\tif ( els.length > 1 )\n\t\t\t\t\t\tels[1].style.cursor = opts.cursorReset;\n\t\t\t\t\tif ( els.length > 2 )\n\t\t\t\t\t\tels[2].style.cursor = opts.cursorReset;\n\t\t\t\t}\n\t\n\t\t\t\tif (full)\n\t\t\t\t\tpageBlock = pageBlockEls = null;\n\t\n\t\t\t\tif (opts.fadeOut) {\n\t\t\t\t\tcount = els.length;\n\t\t\t\t\tels.stop().fadeOut(opts.fadeOut, function() {\n\t\t\t\t\t\tif ( --count === 0)\n\t\t\t\t\t\t\treset(els,data,opts,el);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\treset(els, data, opts, el);\n\t\t\t}\n\t\n\t\t\t// move blocking element back into the DOM where it started\n\t\t\tfunction reset(els,data,opts,el) {\n\t\t\t\tvar $el = $(el);\n\t\t\t\tif ( $el.data('blockUI.isBlocked') )\n\t\t\t\t\treturn;\n\t\n\t\t\t\tels.each(function(i,o) {\n\t\t\t\t\t// remove via DOM calls so we don't lose event handlers\n\t\t\t\t\tif (this.parentNode)\n\t\t\t\t\t\tthis.parentNode.removeChild(this);\n\t\t\t\t});\n\t\n\t\t\t\tif (data && data.el) {\n\t\t\t\t\tdata.el.style.display = data.display;\n\t\t\t\t\tdata.el.style.position = data.position;\n\t\t\t\t\tdata.el.style.cursor = 'default'; // #59\n\t\t\t\t\tif (data.parent)\n\t\t\t\t\t\tdata.parent.appendChild(data.el);\n\t\t\t\t\t$el.removeData('blockUI.history');\n\t\t\t\t}\n\t\n\t\t\t\tif ($el.data('blockUI.static')) {\n\t\t\t\t\t$el.css('position', 'static'); // #22\n\t\t\t\t}\n\t\n\t\t\t\tif (typeof opts.onUnblock == 'function')\n\t\t\t\t\topts.onUnblock(el,opts);\n\t\n\t\t\t\t// fix issue in Safari 6 where block artifacts remain until reflow\n\t\t\t\tvar body = $(document.body), w = body.width(), cssW = body[0].style.width;\n\t\t\t\tbody.width(w-1).width(w);\n\t\t\t\tbody[0].style.width = cssW;\n\t\t\t}\n\t\n\t\t\t// bind/unbind the handler\n\t\t\tfunction bind(b, el, opts) {\n\t\t\t\tvar full = el == window, $el = $(el);\n\t\n\t\t\t\t// don't bother unbinding if there is nothing to unbind\n\t\t\t\tif (!b && (full && !pageBlock || !full && !$el.data('blockUI.isBlocked')))\n\t\t\t\t\treturn;\n\t\n\t\t\t\t$el.data('blockUI.isBlocked', b);\n\t\n\t\t\t\t// don't bind events when overlay is not in use or if bindEvents is false\n\t\t\t\tif (!full || !opts.bindEvents || (b && !opts.showOverlay))\n\t\t\t\t\treturn;\n\t\n\t\t\t\t// bind anchors and inputs for mouse and key events\n\t\t\t\tvar events = 'mousedown mouseup keydown keypress keyup touchstart touchend touchmove';\n\t\t\t\tif (b)\n\t\t\t\t\t$(document).bind(events, opts, handler);\n\t\t\t\telse\n\t\t\t\t\t$(document).unbind(events, handler);\n\t\n\t\t\t// former impl...\n\t\t\t//\t\tvar $e = $('a,:input');\n\t\t\t//\t\tb ? $e.bind(events, opts, handler) : $e.unbind(events, handler);\n\t\t\t}\n\t\n\t\t\t// event handler to suppress keyboard/mouse events when blocking\n\t\t\tfunction handler(e) {\n\t\t\t\t// allow tab navigation (conditionally)\n\t\t\t\tif (e.type === 'keydown' && e.keyCode && e.keyCode == 9) {\n\t\t\t\t\tif (pageBlock && e.data.constrainTabKey) {\n\t\t\t\t\t\tvar els = pageBlockEls;\n\t\t\t\t\t\tvar fwd = !e.shiftKey && e.target === els[els.length-1];\n\t\t\t\t\t\tvar back = e.shiftKey && e.target === els[0];\n\t\t\t\t\t\tif (fwd || back) {\n\t\t\t\t\t\t\tsetTimeout(function(){focus(back);},10);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar opts = e.data;\n\t\t\t\tvar target = $(e.target);\n\t\t\t\tif (target.hasClass('blockOverlay') && opts.onOverlayClick)\n\t\t\t\t\topts.onOverlayClick(e);\n\t\n\t\t\t\t// allow events within the message content\n\t\t\t\tif (target.parents('div.' + opts.blockMsgClass).length > 0)\n\t\t\t\t\treturn true;\n\t\n\t\t\t\t// allow events for content that is not being blocked\n\t\t\t\treturn target.parents().children().filter('div.blockUI').length === 0;\n\t\t\t}\n\t\n\t\t\tfunction focus(back) {\n\t\t\t\tif (!pageBlockEls)\n\t\t\t\t\treturn;\n\t\t\t\tvar e = pageBlockEls[back===true ? pageBlockEls.length-1 : 0];\n\t\t\t\tif (e)\n\t\t\t\t\te.focus();\n\t\t\t}\n\t\n\t\t\tfunction center(el, x, y) {\n\t\t\t\tvar p = el.parentNode, s = el.style;\n\t\t\t\tvar l = ((p.offsetWidth - el.offsetWidth)/2) - sz(p,'borderLeftWidth');\n\t\t\t\tvar t = ((p.offsetHeight - el.offsetHeight)/2) - sz(p,'borderTopWidth');\n\t\t\t\tif (x) s.left = l > 0 ? (l+'px') : '0';\n\t\t\t\tif (y) s.top  = t > 0 ? (t+'px') : '0';\n\t\t\t}\n\t\n\t\t\tfunction sz(el, p) {\n\t\t\t\treturn parseInt($.css(el,p),10)||0;\n\t\t\t}\n\t\n\t\t}\n\t\n\t\n\t\t/*global define:true */\n\t\tif (typeof define === 'function' && define.amd && define.amd.jQuery) {\n\t\t\tdefine(['jquery'], setup);\n\t\t} else {\n\t\t\tsetup(jQuery);\n\t\t}\n\t\n\t})();","/*!\nWaypoints - 4.0.1\nCopyright  2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n(function() {\n  'use strict'\n\n  var keyCounter = 0\n  var allWaypoints = {}\n\n  /* http://imakewebthings.com/waypoints/api/waypoint */\n  function Waypoint(options) {\n    if (!options) {\n      throw new Error('No options passed to Waypoint constructor')\n    }\n    if (!options.element) {\n      throw new Error('No element option passed to Waypoint constructor')\n    }\n    if (!options.handler) {\n\t\tconsole.log(\"options\", options);\n      throw new Error('No handler option passed to Waypoint constructor')\n    }\n\n    this.key = 'waypoint-' + keyCounter\n    this.options = Waypoint.Adapter.extend({}, Waypoint.defaults, options)\n    this.element = this.options.element\n    this.adapter = new Waypoint.Adapter(this.element)\n    this.callback = options.handler\n    this.axis = this.options.horizontal ? 'horizontal' : 'vertical'\n    this.enabled = this.options.enabled\n    this.triggerPoint = null\n    this.group = Waypoint.Group.findOrCreate({\n      name: this.options.group,\n      axis: this.axis\n    })\n    this.context = Waypoint.Context.findOrCreateByElement(this.options.context)\n\n    if (Waypoint.offsetAliases[this.options.offset]) {\n      this.options.offset = Waypoint.offsetAliases[this.options.offset]\n    }\n    this.group.add(this)\n    this.context.add(this)\n    allWaypoints[this.key] = this\n    keyCounter += 1\n  }\n\n  /* Private */\n  Waypoint.prototype.queueTrigger = function(direction) {\n    this.group.queueTrigger(this, direction)\n  }\n\n  /* Private */\n  Waypoint.prototype.trigger = function(args) {\n    if (!this.enabled) {\n      return\n    }\n    if (this.callback) {\n      this.callback.apply(this, args)\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/destroy */\n  Waypoint.prototype.destroy = function() {\n    this.context.remove(this)\n    this.group.remove(this)\n    delete allWaypoints[this.key]\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/disable */\n  Waypoint.prototype.disable = function() {\n    this.enabled = false\n    return this\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/enable */\n  Waypoint.prototype.enable = function() {\n    this.context.refresh()\n    this.enabled = true\n    return this\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/next */\n  Waypoint.prototype.next = function() {\n    return this.group.next(this)\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/previous */\n  Waypoint.prototype.previous = function() {\n    return this.group.previous(this)\n  }\n\n  /* Private */\n  Waypoint.invokeAll = function(method) {\n    var allWaypointsArray = []\n    for (var waypointKey in allWaypoints) {\n      allWaypointsArray.push(allWaypoints[waypointKey])\n    }\n    for (var i = 0, end = allWaypointsArray.length; i < end; i++) {\n      allWaypointsArray[i][method]()\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/destroy-all */\n  Waypoint.destroyAll = function() {\n    Waypoint.invokeAll('destroy')\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/disable-all */\n  Waypoint.disableAll = function() {\n    Waypoint.invokeAll('disable')\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/enable-all */\n  Waypoint.enableAll = function() {\n    Waypoint.Context.refreshAll()\n    for (var waypointKey in allWaypoints) {\n      allWaypoints[waypointKey].enabled = true\n    }\n    return this\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/refresh-all */\n  Waypoint.refreshAll = function() {\n    Waypoint.Context.refreshAll()\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/viewport-height */\n  Waypoint.viewportHeight = function() {\n    return window.innerHeight || document.documentElement.clientHeight\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/viewport-width */\n  Waypoint.viewportWidth = function() {\n    return document.documentElement.clientWidth\n  }\n\n  Waypoint.adapters = []\n\n  Waypoint.defaults = {\n    context: window,\n    continuous: true,\n    enabled: true,\n    group: 'default',\n    horizontal: false,\n    offset: 0\n  }\n\n  Waypoint.offsetAliases = {\n    'bottom-in-view': function() {\n      return this.context.innerHeight() - this.adapter.outerHeight()\n    },\n    'right-in-view': function() {\n      return this.context.innerWidth() - this.adapter.outerWidth()\n    }\n  }\n\n  window.Waypoint = Waypoint\n}())\n;(function() {\n  'use strict'\n\n  function requestAnimationFrameShim(callback) {\n    window.setTimeout(callback, 1000 / 60)\n  }\n\n  var keyCounter = 0\n  var contexts = {}\n  var Waypoint = window.Waypoint\n  var oldWindowLoad = window.onload\n\n  /* http://imakewebthings.com/waypoints/api/context */\n  function Context(element) {\n    this.element = element\n    this.Adapter = Waypoint.Adapter\n    this.adapter = new this.Adapter(element)\n    this.key = 'waypoint-context-' + keyCounter\n    this.didScroll = false\n    this.didResize = false\n    this.oldScroll = {\n      x: this.adapter.scrollLeft(),\n      y: this.adapter.scrollTop()\n    }\n    this.waypoints = {\n      vertical: {},\n      horizontal: {}\n    }\n\n    element.waypointContextKey = this.key\n    contexts[element.waypointContextKey] = this\n    keyCounter += 1\n    if (!Waypoint.windowContext) {\n      Waypoint.windowContext = true\n      Waypoint.windowContext = new Context(window)\n    }\n\n    this.createThrottledScrollHandler()\n    this.createThrottledResizeHandler()\n  }\n\n  /* Private */\n  Context.prototype.add = function(waypoint) {\n    var axis = waypoint.options.horizontal ? 'horizontal' : 'vertical'\n    this.waypoints[axis][waypoint.key] = waypoint\n    this.refresh()\n  }\n\n  /* Private */\n  Context.prototype.checkEmpty = function() {\n    var horizontalEmpty = this.Adapter.isEmptyObject(this.waypoints.horizontal)\n    var verticalEmpty = this.Adapter.isEmptyObject(this.waypoints.vertical)\n    var isWindow = this.element == this.element.window\n    if (horizontalEmpty && verticalEmpty && !isWindow) {\n      this.adapter.off('.waypoints')\n      delete contexts[this.key]\n    }\n  }\n\n  /* Private */\n  Context.prototype.createThrottledResizeHandler = function() {\n    var self = this\n\n    function resizeHandler() {\n      self.handleResize()\n      self.didResize = false\n    }\n\n    this.adapter.on('resize.waypoints', function() {\n      if (!self.didResize) {\n        self.didResize = true\n        Waypoint.requestAnimationFrame(resizeHandler)\n      }\n    })\n  }\n\n  /* Private */\n  Context.prototype.createThrottledScrollHandler = function() {\n    var self = this\n    function scrollHandler() {\n      self.handleScroll()\n      self.didScroll = false\n    }\n\n    this.adapter.on('scroll.waypoints', function() {\n      if (!self.didScroll || Waypoint.isTouch) {\n        self.didScroll = true\n        Waypoint.requestAnimationFrame(scrollHandler)\n      }\n    })\n  }\n\n  /* Private */\n  Context.prototype.handleResize = function() {\n    Waypoint.Context.refreshAll()\n  }\n\n  /* Private */\n  Context.prototype.handleScroll = function() {\n    var triggeredGroups = {}\n    var axes = {\n      horizontal: {\n        newScroll: this.adapter.scrollLeft(),\n        oldScroll: this.oldScroll.x,\n        forward: 'right',\n        backward: 'left'\n      },\n      vertical: {\n        newScroll: this.adapter.scrollTop(),\n        oldScroll: this.oldScroll.y,\n        forward: 'down',\n        backward: 'up'\n      }\n    }\n\n    for (var axisKey in axes) {\n      var axis = axes[axisKey]\n      var isForward = axis.newScroll > axis.oldScroll\n      var direction = isForward ? axis.forward : axis.backward\n\n      for (var waypointKey in this.waypoints[axisKey]) {\n        var waypoint = this.waypoints[axisKey][waypointKey]\n        if (waypoint.triggerPoint === null) {\n          continue\n        }\n        var wasBeforeTriggerPoint = axis.oldScroll < waypoint.triggerPoint\n        var nowAfterTriggerPoint = axis.newScroll >= waypoint.triggerPoint\n        var crossedForward = wasBeforeTriggerPoint && nowAfterTriggerPoint\n        var crossedBackward = !wasBeforeTriggerPoint && !nowAfterTriggerPoint\n        if (crossedForward || crossedBackward) {\n          waypoint.queueTrigger(direction)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n      }\n    }\n\n    for (var groupKey in triggeredGroups) {\n      triggeredGroups[groupKey].flushTriggers()\n    }\n\n    this.oldScroll = {\n      x: axes.horizontal.newScroll,\n      y: axes.vertical.newScroll\n    }\n  }\n\n  /* Private */\n  Context.prototype.innerHeight = function() {\n    /*eslint-disable eqeqeq */\n    if (this.element == this.element.window) {\n      return Waypoint.viewportHeight()\n    }\n    /*eslint-enable eqeqeq */\n    return this.adapter.innerHeight()\n  }\n\n  /* Private */\n  Context.prototype.remove = function(waypoint) {\n    delete this.waypoints[waypoint.axis][waypoint.key]\n    this.checkEmpty()\n  }\n\n  /* Private */\n  Context.prototype.innerWidth = function() {\n    /*eslint-disable eqeqeq */\n    if (this.element == this.element.window) {\n      return Waypoint.viewportWidth()\n    }\n    /*eslint-enable eqeqeq */\n    return this.adapter.innerWidth()\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/context-destroy */\n  Context.prototype.destroy = function() {\n    var allWaypoints = []\n    for (var axis in this.waypoints) {\n      for (var waypointKey in this.waypoints[axis]) {\n        allWaypoints.push(this.waypoints[axis][waypointKey])\n      }\n    }\n    for (var i = 0, end = allWaypoints.length; i < end; i++) {\n      allWaypoints[i].destroy()\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/context-refresh */\n  Context.prototype.refresh = function() {\n    /*eslint-disable eqeqeq */\n    var isWindow = this.element == this.element.window\n    /*eslint-enable eqeqeq */\n    var contextOffset = isWindow ? undefined : this.adapter.offset()\n    var triggeredGroups = {}\n    var axes\n\n    this.handleScroll()\n    axes = {\n      horizontal: {\n        contextOffset: isWindow ? 0 : contextOffset.left,\n        contextScroll: isWindow ? 0 : this.oldScroll.x,\n        contextDimension: this.innerWidth(),\n        oldScroll: this.oldScroll.x,\n        forward: 'right',\n        backward: 'left',\n        offsetProp: 'left'\n      },\n      vertical: {\n        contextOffset: isWindow ? 0 : contextOffset.top,\n        contextScroll: isWindow ? 0 : this.oldScroll.y,\n        contextDimension: this.innerHeight(),\n        oldScroll: this.oldScroll.y,\n        forward: 'down',\n        backward: 'up',\n        offsetProp: 'top'\n      }\n    }\n\n    for (var axisKey in axes) {\n      var axis = axes[axisKey]\n      for (var waypointKey in this.waypoints[axisKey]) {\n        var waypoint = this.waypoints[axisKey][waypointKey]\n        var adjustment = waypoint.options.offset\n        var oldTriggerPoint = waypoint.triggerPoint\n        var elementOffset = 0\n        var freshWaypoint = oldTriggerPoint == null\n        var contextModifier, wasBeforeScroll, nowAfterScroll\n        var triggeredBackward, triggeredForward\n\n        if (waypoint.element !== waypoint.element.window) {\n          elementOffset = waypoint.adapter.offset()[axis.offsetProp]\n        }\n\n        if (typeof adjustment === 'function') {\n          adjustment = adjustment.apply(waypoint)\n        }\n        else if (typeof adjustment === 'string') {\n          adjustment = parseFloat(adjustment)\n          if (waypoint.options.offset.indexOf('%') > - 1) {\n            adjustment = Math.ceil(axis.contextDimension * adjustment / 100)\n          }\n        }\n\n        contextModifier = axis.contextScroll - axis.contextOffset\n        waypoint.triggerPoint = Math.floor(elementOffset + contextModifier - adjustment)\n        wasBeforeScroll = oldTriggerPoint < axis.oldScroll\n        nowAfterScroll = waypoint.triggerPoint >= axis.oldScroll\n        triggeredBackward = wasBeforeScroll && nowAfterScroll\n        triggeredForward = !wasBeforeScroll && !nowAfterScroll\n\n        if (!freshWaypoint && triggeredBackward) {\n          waypoint.queueTrigger(axis.backward)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n        else if (!freshWaypoint && triggeredForward) {\n          waypoint.queueTrigger(axis.forward)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n        else if (freshWaypoint && axis.oldScroll >= waypoint.triggerPoint) {\n          waypoint.queueTrigger(axis.forward)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n      }\n    }\n\n    Waypoint.requestAnimationFrame(function() {\n      for (var groupKey in triggeredGroups) {\n        triggeredGroups[groupKey].flushTriggers()\n      }\n    })\n\n    return this\n  }\n\n  /* Private */\n  Context.findOrCreateByElement = function(element) {\n    return Context.findByElement(element) || new Context(element)\n  }\n\n  /* Private */\n  Context.refreshAll = function() {\n    for (var contextId in contexts) {\n      contexts[contextId].refresh()\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/context-find-by-element */\n  Context.findByElement = function(element) {\n    return contexts[element.waypointContextKey]\n  }\n\n  window.onload = function() {\n    if (oldWindowLoad) {\n      oldWindowLoad()\n    }\n    Context.refreshAll()\n  }\n\n\n  Waypoint.requestAnimationFrame = function(callback) {\n    var requestFn = window.requestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      requestAnimationFrameShim\n    requestFn.call(window, callback)\n  }\n  Waypoint.Context = Context\n}())\n;(function() {\n  'use strict'\n\n  function byTriggerPoint(a, b) {\n    return a.triggerPoint - b.triggerPoint\n  }\n\n  function byReverseTriggerPoint(a, b) {\n    return b.triggerPoint - a.triggerPoint\n  }\n\n  var groups = {\n    vertical: {},\n    horizontal: {}\n  }\n  var Waypoint = window.Waypoint\n\n  /* http://imakewebthings.com/waypoints/api/group */\n  function Group(options) {\n    this.name = options.name\n    this.axis = options.axis\n    this.id = this.name + '-' + this.axis\n    this.waypoints = []\n    this.clearTriggerQueues()\n    groups[this.axis][this.name] = this\n  }\n\n  /* Private */\n  Group.prototype.add = function(waypoint) {\n    this.waypoints.push(waypoint)\n  }\n\n  /* Private */\n  Group.prototype.clearTriggerQueues = function() {\n    this.triggerQueues = {\n      up: [],\n      down: [],\n      left: [],\n      right: []\n    }\n  }\n\n  /* Private */\n  Group.prototype.flushTriggers = function() {\n    for (var direction in this.triggerQueues) {\n      var waypoints = this.triggerQueues[direction]\n      var reverse = direction === 'up' || direction === 'left'\n      waypoints.sort(reverse ? byReverseTriggerPoint : byTriggerPoint)\n      for (var i = 0, end = waypoints.length; i < end; i += 1) {\n        var waypoint = waypoints[i]\n        if (waypoint.options.continuous || i === waypoints.length - 1) {\n          waypoint.trigger([direction])\n        }\n      }\n    }\n    this.clearTriggerQueues()\n  }\n\n  /* Private */\n  Group.prototype.next = function(waypoint) {\n    this.waypoints.sort(byTriggerPoint)\n    var index = Waypoint.Adapter.inArray(waypoint, this.waypoints)\n    var isLast = index === this.waypoints.length - 1\n    return isLast ? null : this.waypoints[index + 1]\n  }\n\n  /* Private */\n  Group.prototype.previous = function(waypoint) {\n    this.waypoints.sort(byTriggerPoint)\n    var index = Waypoint.Adapter.inArray(waypoint, this.waypoints)\n    return index ? this.waypoints[index - 1] : null\n  }\n\n  /* Private */\n  Group.prototype.queueTrigger = function(waypoint, direction) {\n    this.triggerQueues[direction].push(waypoint)\n  }\n\n  /* Private */\n  Group.prototype.remove = function(waypoint) {\n    var index = Waypoint.Adapter.inArray(waypoint, this.waypoints)\n    if (index > -1) {\n      this.waypoints.splice(index, 1)\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/first */\n  Group.prototype.first = function() {\n    return this.waypoints[0]\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/last */\n  Group.prototype.last = function() {\n    return this.waypoints[this.waypoints.length - 1]\n  }\n\n  /* Private */\n  Group.findOrCreate = function(options) {\n    return groups[options.axis][options.name] || new Group(options)\n  }\n\n  Waypoint.Group = Group\n}())\n;(function() {\n  'use strict'\n\n  var $ = window.jQuery\n  var Waypoint = window.Waypoint\n\n  function JQueryAdapter(element) {\n    this.$element = $(element)\n  }\n\n  $.each([\n    'innerHeight',\n    'innerWidth',\n    'off',\n    'offset',\n    'on',\n    'outerHeight',\n    'outerWidth',\n    'scrollLeft',\n    'scrollTop'\n  ], function(i, method) {\n    JQueryAdapter.prototype[method] = function() {\n      var args = Array.prototype.slice.call(arguments)\n      return this.$element[method].apply(this.$element, args)\n    }\n  })\n\n  $.each([\n    'extend',\n    'inArray',\n    'isEmptyObject'\n  ], function(i, method) {\n    JQueryAdapter[method] = $[method]\n  })\n\n  Waypoint.adapters.push({\n    name: 'jquery',\n    Adapter: JQueryAdapter\n  })\n  Waypoint.Adapter = JQueryAdapter\n}())\n;(function() {\n  'use strict'\n\n  var Waypoint = window.Waypoint\n\n  function createExtension(framework) {\n    return function() {\n      var waypoints = []\n      var overrides = arguments[0]\n\n      if (framework.isFunction(arguments[0])) {\n        overrides = framework.extend({}, arguments[1])\n        overrides.handler = arguments[0]\n      }\n\n      this.each(function() {\n        var options = framework.extend({}, overrides, {\n          element: this\n        })\n        if (typeof options.context === 'string') {\n          options.context = framework(this).closest(options.context)[0]\n        }\n        waypoints.push(new Waypoint(options))\n      })\n\n      return waypoints\n    }\n  }\n\n  if (window.jQuery) {\n    window.jQuery.fn.waypoint = createExtension(window.jQuery)\n  }\n  if (window.Zepto) {\n    window.Zepto.fn.waypoint = createExtension(window.Zepto)\n  }\n}())\n;","/*!\n * jsUri\n * https://github.com/derek-watson/jsUri\n *\n * Copyright 2013, Derek Watson\n * Released under the MIT license.\n *\n * Includes parseUri regular expressions\n * http://blog.stevenlevithan.com/archives/parseuri\n * Copyright 2007, Steven Levithan\n * Released under the MIT license.\n */\n\n /*globals define, module */\n\n (function(global) {\n\n    var re = {\n      starts_with_slashes: /^\\/+/,\n      ends_with_slashes: /\\/+$/,\n      pluses: /\\+/g,\n      query_separator: /[&;]/,\n      uri_parser: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*)(?::([^:@]*))?)?@)?(\\[[0-9a-fA-F:.]+\\]|[^:\\/?#]*)(?::(\\d+|(?=:)))?(:)?)((((?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n    };\n  \n    /**\n     * Define forEach for older js environments\n     * @see https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/forEach#Compatibility\n     */\n    if (!Array.prototype.forEach) {\n      Array.prototype.forEach = function(callback, thisArg) {\n        var T, k;\n  \n        if (this == null) {\n          throw new TypeError(' this is null or not defined');\n        }\n  \n        var O = Object(this);\n        var len = O.length >>> 0;\n  \n        if (typeof callback !== \"function\") {\n          throw new TypeError(callback + ' is not a function');\n        }\n  \n        if (arguments.length > 1) {\n          T = thisArg;\n        }\n  \n        k = 0;\n  \n        while (k < len) {\n          var kValue;\n          if (k in O) {\n            kValue = O[k];\n            callback.call(T, kValue, k, O);\n          }\n          k++;\n        }\n      };\n    }\n  \n    /**\n     * unescape a query param value\n     * @param  {string} s encoded value\n     * @return {string}   decoded value\n     */\n    function decode(s) {\n      if (s) {\n          s = s.toString().replace(re.pluses, '%20');\n          s = decodeURIComponent(s);\n      }\n      return s;\n    }\n  \n    /**\n     * Breaks a uri string down into its individual parts\n     * @param  {string} str uri\n     * @return {object}     parts\n     */\n    function parseUri(str) {\n      var parser = re.uri_parser;\n      var parserKeys = [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\", \"host\", \"port\", \"isColonUri\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"];\n      var m = parser.exec(str || '');\n      var parts = {};\n  \n      parserKeys.forEach(function(key, i) {\n        parts[key] = m[i] || '';\n      });\n  \n      return parts;\n    }\n  \n    /**\n     * Breaks a query string down into an array of key/value pairs\n     * @param  {string} str query\n     * @return {array}      array of arrays (key/value pairs)\n     */\n    function parseQuery(str) {\n      var i, ps, p, n, k, v, l;\n      var pairs = [];\n  \n      if (typeof(str) === 'undefined' || str === null || str === '') {\n        return pairs;\n      }\n  \n      if (str.indexOf('?') === 0) {\n        str = str.substring(1);\n      }\n  \n      ps = str.toString().split(re.query_separator);\n  \n      for (i = 0, l = ps.length; i < l; i++) {\n        p = ps[i];\n        n = p.indexOf('=');\n  \n        if (n !== 0) {\n          k = decode(p.substring(0, n));\n          v = decode(p.substring(n + 1));\n          pairs.push(n === -1 ? [p, null] : [k, v]);\n        }\n  \n      }\n      return pairs;\n    }\n  \n    /**\n     * Creates a new Uri object\n     * @constructor\n     * @param {string} str\n     */\n    function Uri(str) {\n      this.uriParts = parseUri(str);\n      this.queryPairs = parseQuery(this.uriParts.query);\n      this.hasAuthorityPrefixUserPref = null;\n    }\n  \n    /**\n     * Define getter/setter methods\n     */\n    ['protocol', 'userInfo', 'host', 'port', 'path', 'anchor'].forEach(function(key) {\n      Uri.prototype[key] = function(val) {\n        if (typeof val !== 'undefined') {\n          this.uriParts[key] = val;\n        }\n        return this.uriParts[key];\n      };\n    });\n  \n    /**\n     * if there is no protocol, the leading // can be enabled or disabled\n     * @param  {Boolean}  val\n     * @return {Boolean}\n     */\n    Uri.prototype.hasAuthorityPrefix = function(val) {\n      if (typeof val !== 'undefined') {\n        this.hasAuthorityPrefixUserPref = val;\n      }\n  \n      if (this.hasAuthorityPrefixUserPref === null) {\n        return (this.uriParts.source.indexOf('//') !== -1);\n      } else {\n        return this.hasAuthorityPrefixUserPref;\n      }\n    };\n  \n    Uri.prototype.isColonUri = function (val) {\n      if (typeof val !== 'undefined') {\n        this.uriParts.isColonUri = !!val;\n      } else {\n        return !!this.uriParts.isColonUri;\n      }\n    };\n  \n    /**\n     * Serializes the internal state of the query pairs\n     * @param  {string} [val]   set a new query string\n     * @return {string}         query string\n     */\n    Uri.prototype.query = function(val) {\n      var s = '', i, param, l;\n  \n      if (typeof val !== 'undefined') {\n        this.queryPairs = parseQuery(val);\n      }\n  \n      for (i = 0, l = this.queryPairs.length; i < l; i++) {\n        param = this.queryPairs[i];\n        if (s.length > 0) {\n          s += '&';\n        }\n        if (param[1] === null) {\n          s += param[0];\n        } else {\n          s += param[0];\n          s += '=';\n          if (typeof param[1] !== 'undefined') {\n            s += encodeURIComponent(param[1]);\n          }\n        }\n      }\n      return s.length > 0 ? '?' + s : s;\n    };\n  \n    /**\n     * returns the first query param value found for the key\n     * @param  {string} key query key\n     * @return {string}     first value found for key\n     */\n    Uri.prototype.getQueryParamValue = function (key) {\n      var param, i, l;\n      for (i = 0, l = this.queryPairs.length; i < l; i++) {\n        param = this.queryPairs[i];\n        if (key === param[0]) {\n          return param[1];\n        }\n      }\n    };\n  \n    /**\n     * returns an array of query param values for the key\n     * @param  {string} key query key\n     * @return {array}      array of values\n     */\n    Uri.prototype.getQueryParamValues = function (key) {\n      var arr = [], i, param, l;\n      for (i = 0, l = this.queryPairs.length; i < l; i++) {\n        param = this.queryPairs[i];\n        if (key === param[0]) {\n          arr.push(param[1]);\n        }\n      }\n      return arr;\n    };\n  \n    /**\n     * removes query parameters\n     * @param  {string} key     remove values for key\n     * @param  {val}    [val]   remove a specific value, otherwise removes all\n     * @return {Uri}            returns self for fluent chaining\n     */\n    Uri.prototype.deleteQueryParam = function (key, val) {\n      var arr = [], i, param, keyMatchesFilter, valMatchesFilter, l;\n  \n      for (i = 0, l = this.queryPairs.length; i < l; i++) {\n  \n        param = this.queryPairs[i];\n        keyMatchesFilter = decode(param[0]) === decode(key);\n        valMatchesFilter = param[1] === val;\n  \n        if ((arguments.length === 1 && !keyMatchesFilter) || (arguments.length === 2 && (!keyMatchesFilter || !valMatchesFilter))) {\n          arr.push(param);\n        }\n      }\n  \n      this.queryPairs = arr;\n  \n      return this;\n    };\n  \n    /**\n     * adds a query parameter\n     * @param  {string}  key        add values for key\n     * @param  {string}  val        value to add\n     * @param  {integer} [index]    specific index to add the value at\n     * @return {Uri}                returns self for fluent chaining\n     */\n    Uri.prototype.addQueryParam = function (key, val, index) {\n      if (arguments.length === 3 && index !== -1) {\n        index = Math.min(index, this.queryPairs.length);\n        this.queryPairs.splice(index, 0, [key, val]);\n      } else if (arguments.length > 0) {\n        this.queryPairs.push([key, val]);\n      }\n      return this;\n    };\n  \n    /**\n     * test for the existence of a query parameter\n     * @param  {string}  key        check values for key\n     * @return {Boolean}            true if key exists, otherwise false\n     */\n    Uri.prototype.hasQueryParam = function (key) {\n      var i, len = this.queryPairs.length;\n      for (i = 0; i < len; i++) {\n        if (this.queryPairs[i][0] == key)\n          return true;\n      }\n      return false;\n    };\n  \n    /**\n     * replaces query param values\n     * @param  {string} key         key to replace value for\n     * @param  {string} newVal      new value\n     * @param  {string} [oldVal]    replace only one specific value (otherwise replaces all)\n     * @return {Uri}                returns self for fluent chaining\n     */\n    Uri.prototype.replaceQueryParam = function (key, newVal, oldVal) {\n      var index = -1, len = this.queryPairs.length, i, param;\n  \n      if (arguments.length === 3) {\n        for (i = 0; i < len; i++) {\n          param = this.queryPairs[i];\n          if (decode(param[0]) === decode(key) && decodeURIComponent(param[1]) === decode(oldVal)) {\n            index = i;\n            break;\n          }\n        }\n        if (index >= 0) {\n          this.deleteQueryParam(key, decode(oldVal)).addQueryParam(key, newVal, index);\n        }\n      } else {\n        for (i = 0; i < len; i++) {\n          param = this.queryPairs[i];\n          if (decode(param[0]) === decode(key)) {\n            index = i;\n            break;\n          }\n        }\n        this.deleteQueryParam(key);\n        this.addQueryParam(key, newVal, index);\n      }\n      return this;\n    };\n  \n    /**\n     * Define fluent setter methods (setProtocol, setHasAuthorityPrefix, etc)\n     */\n    ['protocol', 'hasAuthorityPrefix', 'isColonUri', 'userInfo', 'host', 'port', 'path', 'query', 'anchor'].forEach(function(key) {\n      var method = 'set' + key.charAt(0).toUpperCase() + key.slice(1);\n      Uri.prototype[method] = function(val) {\n        this[key](val);\n        return this;\n      };\n    });\n  \n    /**\n     * Scheme name, colon and doubleslash, as required\n     * @return {string} http:// or possibly just //\n     */\n    Uri.prototype.scheme = function() {\n      var s = '';\n  \n      if (this.protocol()) {\n        s += this.protocol();\n        if (this.protocol().indexOf(':') !== this.protocol().length - 1) {\n          s += ':';\n        }\n        s += '//';\n      } else {\n        if (this.hasAuthorityPrefix() && this.host()) {\n          s += '//';\n        }\n      }\n  \n      return s;\n    };\n  \n    /**\n     * Same as Mozilla nsIURI.prePath\n     * @return {string} scheme://user:password@host:port\n     * @see  https://developer.mozilla.org/en/nsIURI\n     */\n    Uri.prototype.origin = function() {\n      var s = this.scheme();\n  \n      if (this.userInfo() && this.host()) {\n        s += this.userInfo();\n        if (this.userInfo().indexOf('@') !== this.userInfo().length - 1) {\n          s += '@';\n        }\n      }\n  \n      if (this.host()) {\n        s += this.host();\n        if (this.port() || (this.path() && this.path().substr(0, 1).match(/[0-9]/))) {\n          s += ':' + this.port();\n        }\n      }\n  \n      return s;\n    };\n  \n    /**\n     * Adds a trailing slash to the path\n     */\n    Uri.prototype.addTrailingSlash = function() {\n      var path = this.path() || '';\n  \n      if (path.substr(-1) !== '/') {\n        this.path(path + '/');\n      }\n  \n      return this;\n    };\n  \n    /**\n     * Serializes the internal state of the Uri object\n     * @return {string}\n     */\n    Uri.prototype.toString = function() {\n      var path, s = this.origin();\n  \n      if (this.isColonUri()) {\n        if (this.path()) {\n          s += ':'+this.path();\n        }\n      } else if (this.path()) {\n        path = this.path();\n        if (!(re.ends_with_slashes.test(s) || re.starts_with_slashes.test(path))) {\n          s += '/';\n        } else {\n          if (s) {\n            s.replace(re.ends_with_slashes, '/');\n          }\n          path = path.replace(re.starts_with_slashes, '/');\n        }\n        s += path;\n      } else {\n        if (this.host() && (this.query().toString() || this.anchor())) {\n          s += '/';\n        }\n      }\n      if (this.query().toString()) {\n        s += this.query().toString();\n      }\n  \n      if (this.anchor()) {\n        if (this.anchor().indexOf('#') !== 0) {\n          s += '#';\n        }\n        s += this.anchor();\n      }\n  \n      return s;\n    };\n  \n    /**\n     * Clone a Uri object\n     * @return {Uri} duplicate copy of the Uri\n     */\n    Uri.prototype.clone = function() {\n      return new Uri(this.toString());\n    };\n  \n    /**\n     * export via AMD or CommonJS, otherwise leak a global\n     */\n    if (typeof define === 'function' && define.amd) {\n      define(function() {\n        return Uri;\n      });\n    } else if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n      module.exports = Uri;\n    } else {\n      global.Uri = Uri;\n    }\n  }(this));\n  ","WPAC._Options = WPAC._Options || {};\r\n\r\nWPAC._BodyRegex = new RegExp( '<body[^>]*>((.|\\n|\\r)*)</body>', 'i' );\r\nWPAC._ExtractBody = function( html ) {\r\n\ttry {\r\n\t\treturn jQuery( '<div>' + WPAC._BodyRegex.exec( html )[ 1 ] + '</div>' );\r\n\t} catch ( e ) {\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nWPAC._TitleRegex = new RegExp( '<title[^>]*>(.*?)<\\\\/title>', 'im' );\r\nWPAC._ExtractTitle = function( html ) {\r\n\ttry {\r\n\t\treturn WPAC._TitleRegex.exec( html )[ 1 ];\r\n\t} catch ( e ) {\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nWPAC._ShowMessage = function( message, type, force = false ) {\r\n\t// Determine how to display the loading message.\r\n\tconst lazyLoadDisplay = WPAC._Options.lazyLoadDisplay;\r\n\tconst lazyLoadEnabled = WPAC._Options.lazyLoadEnabled;\r\n\r\n\t// Check if lazy load enabled or not.\r\n\tif ( lazyLoadEnabled && 'overlay' !== lazyLoadDisplay && ! force ) {\r\n\t\treturn;\r\n\t}\r\n\tconst top =\r\n\t\tWPAC._Options.popupMarginTop + ( jQuery( '#wpadminbar' ).outerHeight() || 0 );\r\n\r\n\tlet backgroundColor = WPAC._Options.popupBackgroundColorLoading;\r\n\tlet textColor = WPAC._Options.popupTextColorLoading;\r\n\tif ( type == 'error' ) {\r\n\t\tbackgroundColor = WPAC._Options.popupBackgroundColorError;\r\n\t\ttextColor = WPAC._Options.popupTextColorError;\r\n\t} else if ( type == 'success' ) {\r\n\t\tbackgroundColor = WPAC._Options.popupBackgroundColorSuccess;\r\n\t\ttextColor = WPAC._Options.popupTextColorSuccess;\r\n\t}\r\n\r\n\tlet topOffset = WPAC._Options.popupVerticalAlign === 'verticalStart' ? top + 'px' : 'unset';\r\n\tif ( WPAC._Options.popupVerticalAlign === 'verticalCenter' ) {\r\n\t\ttopOffset = '45%';\r\n\t}\r\n\t\r\n\tjQuery.blockUI({ \r\n\t\tblockMsgClass: \"wpac-overlay\",\r\n\t\tmessage: message, \r\n\t\tfadeIn: WPAC._Options.popupFadeIn, \r\n\t\tfadeOut: WPAC._Options.popupFadeOut, \r\n\t\ttimeout:(type == \"loading\") ? 0 : WPAC._Options.popupTimeout, \r\n\t\tcenterY: false,\r\n\t\tcenterX: true,\r\n\t\tshowOverlay: true,\r\n\t\tcss: {\r\n\t\t\twidth: 'var(--wpac-popup-width)',\r\n\t\t\tleft: 'calc(50% - var(--wpac-popup-width) / 2)',\r\n\t\t\ttop: topOffset,\r\n\t\t\tbottom: WPAC._Options.popupVerticalAlign === 'verticalEnd' ? top + 'px' : 'unset',\r\n\t\t\tborder: 'none',\r\n\t\t\tpadding: WPAC._Options.popupPadding + 'px',\r\n\t\t\tbackgroundColor,\r\n\t\t\t'-webkit-border-radius': WPAC._Options.popupCornerRadius + 'px',\r\n\t\t\t'-moz-border-radius': WPAC._Options.popupCornerRadius + 'px',\r\n\t\t\t'border-radius': WPAC._Options.popupCornerRadius + 'px',\r\n\t\t\topacity: WPAC._Options.popupOpacity / 100,\r\n\t\t\tcolor: textColor,\r\n\t\t\ttextAlign: WPAC._Options.popupTextAlign,\r\n\t\t\tcursor:\r\n\t\t\t\ttype == 'loading' || type == 'loadingPreview' ? 'wait' : 'default',\r\n\t\t\t'font-size': WPAC._Options.popupTextFontSize,\r\n\t\t},\r\n\t\toverlayCSS: {\r\n\t\t\tbackgroundColor: WPAC._Options.popupOverlayBackgroundColor,\r\n\t\t\topacity: WPAC._Options.popupOverlayBackgroundColorOpacity,\r\n\t\t},\r\n\t\tbaseZ: WPAC._Options.popupZindex,\r\n\t} );\r\n};\r\n\r\nWPAC._DebugErrorShown = false;\r\nWPAC._Debug = function( level, message ) {\r\n\tif ( ! WPAC._Options.debug ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Fix console.log.apply for IE9\r\n\t// see http://stackoverflow.com/a/5539378/516472\r\n\tif (\r\n\t\tFunction.prototype.call &&\r\n\t\tFunction.prototype.call.bind &&\r\n\t\ttypeof window.console !== 'undefined' &&\r\n\t\tconsole &&\r\n\t\ttypeof console.log === 'object' &&\r\n\t\ttypeof window.console[ level ].apply === 'undefined'\r\n\t) {\r\n\t\tconsole[ level ] = Function.prototype.call.bind( console[ level ], console );\r\n\t}\r\n\r\n\tif (\r\n\t\ttypeof window.console === 'undefined' ||\r\n\t\ttypeof window.console[ level ] === 'undefined' ||\r\n\t\ttypeof window.console[ level ].apply === 'undefined'\r\n\t) {\r\n\t\tif ( ! WPAC._DebugErrorShown ) {\r\n\t\t\talert(\r\n\t\t\t\t'Unfortunately the console object is undefined or is not supported in your browser, debugging WP Ajaxify Comments is disabled! Please use Firebug, Google Chrome or Internet Explorer 9 or above with enabled Developer Tools (F12) for debugging WP Ajaxify Comments.',\r\n\t\t\t);\r\n\t\t}\r\n\t\tWPAC._DebugErrorShown = true;\r\n\t\treturn;\r\n\t}\r\n\r\n\tconst args = jQuery.merge(\r\n\t\t[ '[WP Ajaxify Comments] ' + message ],\r\n\t\tjQuery.makeArray( arguments ).slice( 2 ),\r\n\t);\r\n\tconsole[ level ].apply( console, args );\r\n};\r\n\r\nWPAC._DebugSelector = function( elementType, selector, optional ) {\r\n\tif ( ! WPAC._Options.debug ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tconst element = jQuery( selector );\r\n\tif ( ! element.length ) {\r\n\t\tWPAC._Debug(\r\n\t\t\toptional ? 'info' : 'error',\r\n\t\t\t\"Search %s (selector: '%s')... Not found\",\r\n\t\t\telementType,\r\n\t\t\tselector,\r\n\t\t);\r\n\t} else {\r\n\t\tWPAC._Debug(\r\n\t\t\t'info',\r\n\t\t\t\"Search %s (selector: '%s')... Found: %o\",\r\n\t\t\telementType,\r\n\t\t\tselector,\r\n\t\t\telement,\r\n\t\t);\r\n\t}\r\n};\r\n\r\nWPAC._AddQueryParamStringToUrl = function( url, param, value ) {\r\n\t// Get URL object.\r\n\tconst urlObject = new URL( url );\r\n\r\n\t// Get query params.\r\n\tconst queryParams = urlObject.searchParams;\r\n\r\n\t// Set query param.\r\n\tqueryParams.set( param, value );\r\n\r\n\t// Set query params.\r\n\turlObject.search = queryParams.toString();\r\n\r\n\t// Return URL.\r\n\treturn urlObject.toString();\r\n};\r\n\r\nWPAC._LoadFallbackUrl = function( fallbackUrl ) {\r\n\tWPAC._ShowMessage( WPAC._Options.textReloadPage, 'loading' );\r\n\r\n\tconst url = WPAC._AddQueryParamStringToUrl(\r\n\t\tfallbackUrl,\r\n\t\t'WPACRandom',\r\n\t\tnew Date().getTime(),\r\n\t);\r\n\tWPAC._Debug(\r\n\t\t'info',\r\n\t\t\"Something went wrong. Reloading page (URL: '%s')...\",\r\n\t\turl,\r\n\t);\r\n\r\n\tconst reload = function() {\r\n\t\tlocation.href = url;\r\n\t};\r\n\tif ( ! WPAC._Options.debug ) {\r\n\t\treload();\r\n\t} else {\r\n\t\tWPAC._Debug( 'info', 'Sleep for 5s to enable analyzing debug messages...' );\r\n\t\twindow.setTimeout( reload, 5000 );\r\n\t}\r\n};\r\n\r\nWPAC._ScrollToAnchor = function( anchor, updateHash, scrollComplete ) {\r\n\tscrollComplete = scrollComplete || function() { };\r\n\tconst anchorElement = jQuery( anchor );\r\n\tif ( anchorElement.length ) {\r\n\t\tWPAC._Debug(\r\n\t\t\t'info',\r\n\t\t\t'Scroll to anchor element %o (scroll speed: %s ms)...',\r\n\t\t\tanchorElement,\r\n\t\t\tWPAC._Options.scrollSpeed,\r\n\t\t);\r\n\t\tconst animateComplete = function() {\r\n\t\t\tif ( updateHash ) {\r\n\t\t\t\twindow.location.hash = anchor;\r\n\t\t\t}\r\n\t\t\tscrollComplete();\r\n\t\t};\r\n\t\tconst scrollTargetTopOffset = anchorElement.offset().top;\r\n\t\tif ( jQuery( window ).scrollTop() == scrollTargetTopOffset ) {\r\n\t\t\tanimateComplete();\r\n\t\t} else {\r\n\t\t\tjQuery( 'html,body' ).animate(\r\n\t\t\t\t{ scrollTop: scrollTargetTopOffset },\r\n\t\t\t\t{\r\n\t\t\t\t\tduration: WPAC._Options.scrollSpeed,\r\n\t\t\t\t\tcomplete: animateComplete,\r\n\t\t\t\t},\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\tWPAC._Debug( 'error', \"Anchor element not found (selector: '%s')\", anchor );\r\n\treturn false;\r\n};\r\n\r\nWPAC._UpdateUrl = function( url ) {\r\n\tif ( url.split( '#' )[ 0 ] == window.location.href.split( '#' )[ 0 ] ) {\r\n\t\treturn;\r\n\t}\r\n\tif ( window.history.replaceState ) {\r\n\t\twindow.history.replaceState( {}, window.document.title, url );\r\n\t} else {\r\n\t\tWPAC._Debug(\r\n\t\t\t'info',\r\n\t\t\t'Browser does not support window.history.replaceState() to update the URL without reloading the page',\r\n\t\t\tanchor,\r\n\t\t);\r\n\t}\r\n};\r\n\r\nWPAC._ReplaceComments = function(\r\n\tdata,\r\n\tcommentUrl,\r\n\tuseFallbackUrl,\r\n\tformData,\r\n\tformFocus,\r\n\tselectorCommentsContainer,\r\n\tselectorCommentForm,\r\n\tselectorRespondContainer,\r\n\tbeforeSelectElements,\r\n\tbeforeUpdateComments,\r\n\tafterUpdateComments,\r\n) {\r\n\t// Remove any lazy loading messages.\r\n\tjQuery( '#wpac-lazy-load-content-clone' ).remove();\r\n\r\n\tconst fallbackUrl = useFallbackUrl\r\n\t\t? WPAC._AddQueryParamStringToUrl( commentUrl, 'WPACFallback', '1' )\r\n\t\t: commentUrl;\r\n\r\n\tlet oldCommentsContainer = jQuery( selectorCommentsContainer );\r\n\tif ( WPAC._Options.lazyLoadIntoElement && 'comments' !== WPAC._Options.lazyLoadInlineDisplayLocation ) {\r\n\t\toldCommentsContainer = jQuery( WPAC._Options.lazyLoadInlineDisplayElement );\r\n\t}\r\n\tif ( ! oldCommentsContainer.length ) {\r\n\t\tWPAC._Debug(\r\n\t\t\t'error',\r\n\t\t\t\"Comment container on current page not found (selector: '%s')\",\r\n\t\t\tselectorCommentsContainer,\r\n\t\t);\r\n\t\tWPAC._LoadFallbackUrl( fallbackUrl );\r\n\t\treturn false;\r\n\t}\r\n\t// If length is greater than one, there may be greedy selectors.\r\n\tif ( oldCommentsContainer.length > 1 ) {\r\n\t\tWPAC._Debug(\r\n\t\t\t'error',\r\n\t\t\t\"Comment form on requested page found multiple times (selector: '%s')\",\r\n\t\t\toldCommentsContainer,\r\n\t\t);\r\n\t\toldCommentsContainer = oldCommentsContainer.filter( function() {\r\n\t\t\treturn jQuery( this ).children().length > 0 && ! jQuery( this ).is( ':header' );\r\n\t\t} );\r\n\t}\r\n\r\n\tconst extractedBody = WPAC._ExtractBody( data );\r\n\tif ( extractedBody === false ) {\r\n\t\tWPAC._Debug(\r\n\t\t\t'error',\r\n\t\t\t\"Unsupported server response, unable to extract body (data: '%s')\",\r\n\t\t\tdata,\r\n\t\t);\r\n\t\tWPAC._LoadFallbackUrl( fallbackUrl );\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Call before select elements.\r\n\tif ( beforeSelectElements !== '' ) {\r\n\t\tconst beforeSelect = new Function( 'extractedBody', beforeSelectElements );\r\n\t\tbeforeSelect( extractedBody );\r\n\t}\r\n\r\n\t// Set up custom event.\r\n\tconst beforeSelectEvent = new CustomEvent( 'wpacBeforeSelectElements', {\r\n\t\tdetail: { extractedBody },\r\n\t} );\r\n\tdocument.dispatchEvent( beforeSelectEvent );\r\n\r\n\tlet newCommentsContainer = extractedBody.find( selectorCommentsContainer );\r\n\tif ( ! newCommentsContainer.length ) {\r\n\t\tWPAC._Debug(\r\n\t\t\t'error',\r\n\t\t\t\"Comment container on requested page not found (selector: '%s')\",\r\n\t\t\tselectorCommentsContainer,\r\n\t\t);\r\n\t\tWPAC._LoadFallbackUrl( fallbackUrl );\r\n\t\treturn false;\r\n\t}\r\n\tif ( newCommentsContainer.length > 1 ) {\r\n\t\tWPAC._Debug(\r\n\t\t\t'error',\r\n\t\t\t\"Comment form on requested page found multiple times (selector: '%s')\",\r\n\t\t\tnewCommentsContainer,\r\n\t\t);\r\n\r\n\t\t// Find the first comment container that has children and is not a heading.\r\n\t\tnewCommentsContainer = newCommentsContainer.filter( function() {\r\n\t\t\treturn jQuery( this ).children().length > 0 && ! jQuery( this ).is( ':header' );\r\n\t\t} );\r\n\r\n\t\t// Find respond selector and remove.\r\n\t\tconst respondContainer = newCommentsContainer.find( selectorRespondContainer );\r\n\t\tif ( respondContainer.length ) {\r\n\t\t\trespondContainer.remove();\r\n\t\t}\r\n\t}\r\n\r\n\t// Call before update comments.\r\n\tif ( '' !== beforeUpdateComments ) {\r\n\t\tconst beforeComments = new Function(\r\n\t\t\t'extractedBody',\r\n\t\t\t'commentUrl',\r\n\t\t\tbeforeUpdateComments,\r\n\t\t);\r\n\t\tbeforeComments( extractedBody, commentUrl );\r\n\t}\r\n\r\n\t// Set up native event handler.\r\n\tconst beforeCommentsEvent = new CustomEvent( 'wpacBeforeUpdateComments', {\r\n\t\tdetail: { newDom: extractedBody, commentUrl },\r\n\t} );\r\n\tdocument.dispatchEvent( beforeCommentsEvent );\r\n\r\n\t// Update title\r\n\tconst extractedTitle = WPAC._ExtractTitle( data );\r\n\tif ( extractedBody !== false ) {\r\n\t\t// Decode HTML entities (see http://stackoverflow.com/a/5796744)\r\n\t\tdocument.title = jQuery( '<textarea />' ).html( extractedTitle ).text();\r\n\t}\r\n\r\n\t// Empty old container, replace with innards of new container.\r\n\toldCommentsContainer.empty();\r\n\toldCommentsContainer.append( newCommentsContainer.children() );\r\n\r\n\tif ( WPAC._Options.commentsEnabled ) {\r\n\t\tconst form = jQuery( selectorCommentForm );\r\n\t\tif ( form.length ) {\r\n\t\t\t// Replace comment form (for spam protection plugin compatibility) if comment form is not nested in comments container\r\n\t\t\t// If comment form is nested in comments container comment form has already been replaced\r\n\t\t\tif ( ! form.parents( selectorCommentsContainer ).length ) {\r\n\t\t\t\tWPAC._Debug( 'info', 'Replace comment form...' );\r\n\t\t\t\tconst newCommentForm = extractedBody.find( selectorCommentForm );\r\n\t\t\t\tif ( newCommentForm.length == 0 ) {\r\n\t\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t\t'error',\r\n\t\t\t\t\t\t\"Comment form on requested page not found (selector: '%s')\",\r\n\t\t\t\t\t\tselectorCommentForm,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tWPAC._LoadFallbackUrl( fallbackUrl );\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tform.replaceWith( newCommentForm );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tWPAC._Debug( 'info', 'Try to re-inject comment form...' );\r\n\r\n\t\t\t// \"Re-inject\" comment form, if comment form was removed by updating the comments container; could happen\r\n\t\t\t// if theme support threaded/nested comments and form tag is not nested in comments container\r\n\t\t\t// -> Replace WordPress placeholder <div> (#wp-temp-form-div) with respond <div>\r\n\t\t\tconst wpTempFormDiv = jQuery( '#wp-temp-form-div' );\r\n\t\t\tif ( ! wpTempFormDiv.length ) {\r\n\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t'error',\r\n\t\t\t\t\t\"WordPress' #wp-temp-form-div container not found\",\r\n\t\t\t\t\tselectorRespondContainer,\r\n\t\t\t\t);\r\n\t\t\t\tWPAC._LoadFallbackUrl( fallbackUrl );\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst newRespondContainer = extractedBody.find( selectorRespondContainer );\r\n\t\t\tif ( ! newRespondContainer.length ) {\r\n\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t'error',\r\n\t\t\t\t\t\"Respond container on requested page not found (selector: '%s')\",\r\n\t\t\t\t\tselectorRespondContainer,\r\n\t\t\t\t);\r\n\t\t\t\tWPAC._LoadFallbackUrl( fallbackUrl );\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\twpTempFormDiv.replaceWith( newRespondContainer );\r\n\t\t}\r\n\r\n\t\tif ( formData ) {\r\n\t\t\t// Re-inject saved form data\r\n\t\t\tjQuery.each( formData, function( key, value ) {\r\n\t\t\t\tconst formElement = jQuery(\r\n\t\t\t\t\t\"[name='\" + value.name + \"']\",\r\n\t\t\t\t\tselectorCommentForm,\r\n\t\t\t\t);\r\n\t\t\t\tif ( formElement.length != 1 || formElement.val() ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tformElement.val( value.value );\r\n\t\t\t} );\r\n\t\t}\r\n\t\tif ( formFocus ) {\r\n\t\t\t// Reset focus\r\n\t\t\tconst formElement = jQuery(\r\n\t\t\t\t\"[name='\" + formFocus + \"']\",\r\n\t\t\t\tselectorCommentForm,\r\n\t\t\t);\r\n\t\t\tif ( formElement ) {\r\n\t\t\t\tformElement.focus();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// Call after update comments.\r\n\tif ( '' !== afterUpdateComments ) {\r\n\t\tconst updateComments = new Function(\r\n\t\t\t'extractedBody',\r\n\t\t\t'commentUrl',\r\n\t\t\tafterUpdateComments,\r\n\t\t);\r\n\t\tupdateComments( extractedBody, commentUrl );\r\n\t}\r\n\t// Set up native event handler.\r\n\tconst updateCommentsEvent = new CustomEvent( 'wpacAfterUpdateComments', {\r\n\t\tdetail: { newDom: extractedBody, commentUrl },\r\n\t} );\r\n\tdocument.dispatchEvent( updateCommentsEvent );\r\n\r\n\treturn true;\r\n};\r\n\r\nWPAC._TestCrossDomainScripting = function( url ) {\r\n\tif ( url.indexOf( 'http' ) != 0 ) {\r\n\t\treturn false;\r\n\t}\r\n\tconst domain = window.location.protocol + '//' + window.location.host;\r\n\treturn url.indexOf( domain ) != 0;\r\n};\r\n\r\nWPAC._TestFallbackUrl = function( url ) {\r\n\t// Get URL object.\r\n\tconst urlObject = new URL( url );\r\n\r\n\t// Get query params.\r\n\tconst queryParams = urlObject.searchParams;\r\n\tconst fallbackParam = queryParams.get( 'WPACFallback' );\r\n\tconst randomParam = queryParams.get( 'WPACRandom' );\r\n\r\n\treturn fallbackParam && randomParam;\r\n};\r\n\r\nWPAC.AttachForm = function( options ) {\r\n\t// Set default options\r\n\toptions = jQuery.extend(\r\n\t\t{\r\n\t\t\tselectorCommentForm: WPAC._Options.selectorCommentForm,\r\n\t\t\tselectorCommentPagingLinks: WPAC._Options.selectorCommentPagingLinks,\r\n\t\t\tbeforeSelectElements: WPACCallbacks.beforeSelectElements,\r\n\t\t\tbeforeSubmitComment: WPACCallbacks.beforeSubmitComment,\r\n\t\t\tafterPostComment: WPACCallbacks.afterPostComment,\r\n\t\t\tselectorCommentsContainer: WPAC._Options.selectorCommentsContainer,\r\n\t\t\tselectorRespondContainer: WPAC._Options.selectorRespondContainer,\r\n\t\t\tbeforeUpdateComments: WPACCallbacks.beforeUpdateComments,\r\n\t\t\tafterUpdateComments: WPACCallbacks.afterUpdateComments,\r\n\t\t\tscrollToAnchor: ! WPAC._Options.disableScrollToAnchor,\r\n\t\t\tupdateUrl: ! WPAC._Options.disableUrlUpdate,\r\n\t\t\tselectorCommentLinks: WPAC._Options.selectorCommentLinks,\r\n\t\t},\r\n\t\toptions || {},\r\n\t);\r\n\r\n\tif ( WPAC._Options.debug && WPAC._Options.commentsEnabled ) {\r\n\t\tWPAC._Debug( 'info', 'Attach form...' );\r\n\t\tWPAC._DebugSelector( 'comment form', options.selectorCommentForm );\r\n\t\tWPAC._DebugSelector(\r\n\t\t\t'comments container',\r\n\t\t\toptions.selectorCommentsContainer,\r\n\t\t);\r\n\t\tWPAC._DebugSelector( 'respond container', options.selectorRespondContainer );\r\n\t\tWPAC._DebugSelector(\r\n\t\t\t'comment paging links',\r\n\t\t\toptions.selectorCommentPagingLinks,\r\n\t\t\ttrue,\r\n\t\t);\r\n\t\tWPAC._DebugSelector( 'comment links', options.selectorCommentLinks, true );\r\n\t}\r\n\r\n\t// Try before submit comment. Using new function is not ideal here, but safer than exec.\r\n\tif ( '' !== WPACCallbacks.beforeSelectElements ) {\r\n\t\tconst beforeSelect = new Function(\r\n\t\t\t'dom',\r\n\t\t\tWPACCallbacks.beforeSelectElements,\r\n\t\t);\r\n\t\tbeforeSelect( jQuery( document ) );\r\n\r\n\t\t// Set up native event handler.\r\n\t\tconst beforeSelectEvent = new CustomEvent( 'wpacBeforeSelectElements', {\r\n\t\t\tdetail: { dom: jQuery( document ) },\r\n\t\t} );\r\n\t\tdocument.dispatchEvent( beforeSelectEvent );\r\n\t}\r\n\r\n\t// Get addHandler method\r\n\tif ( jQuery( document ).on ) {\r\n\t\t// jQuery 1.7+\r\n\t\tvar addHandler = function( event, selector, handler ) {\r\n\t\t\tjQuery( document ).on( event, selector, handler );\r\n\t\t};\r\n\t} else if ( jQuery( document ).delegate ) {\r\n\t\t// jQuery 1.4.3+\r\n\t\tvar addHandler = function( event, selector, handler ) {\r\n\t\t\tjQuery( document ).delegate( selector, event, handler );\r\n\t\t};\r\n\t} else {\r\n\t\t// jQuery 1.3+\r\n\t\tvar addHandler = function( event, selector, handler ) {\r\n\t\t\tjQuery( selector ).live( event, handler );\r\n\t\t};\r\n\t}\r\n\r\n\t// Handle paging link clicks\r\n\tconst pagingClickHandler = function( event ) {\r\n\t\tconst href = jQuery( this ).attr( 'href' );\r\n\t\tif ( href ) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tWPAC.LoadComments( href, {\r\n\t\t\t\tselectorCommentForm: options.selectorCommentForm,\r\n\t\t\t\tselectorCommentsContainer: options.selectorCommentsContainer,\r\n\t\t\t\tselectorRespondContainer: options.selectorRespondContainer,\r\n\t\t\t\tbeforeSelectElements: options.beforeSelectElements,\r\n\t\t\t\tbeforeUpdateComments: options.beforeUpdateComments,\r\n\t\t\t\tafterUpdateComments: options.afterUpdateComments,\r\n\t\t\t} );\r\n\t\t}\r\n\t};\r\n\taddHandler( 'click', options.selectorCommentPagingLinks, pagingClickHandler );\r\n\r\n\t// Handle comment link clicks\r\n\tconst linkClickHandler = function( event ) {\r\n\t\tconst element = jQuery( this );\r\n\t\tif ( element.is( options.selectorCommentPagingLinks ) ) {\r\n\t\t\treturn;\r\n\t\t} // skip if paging link was clicked\r\n\t\tconst href = element.attr( 'href' );\r\n\t\t// To use new URL.\r\n\t\tconst anchor = new URL( href ).hash;\r\n\t\t\r\n\t\tif ( jQuery( anchor ).length > 0 ) {\r\n\t\t\tif ( options.updateUrl ) {\r\n\t\t\t\tWPAC._UpdateUrl( href );\r\n\t\t\t}\r\n\t\t\tWPAC._ScrollToAnchor( anchor, options.updateUrl );\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t};\r\n\taddHandler( 'click', options.selectorCommentLinks, linkClickHandler );\r\n\r\n\tif ( ! WPAC._Options.commentsEnabled ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Handle form submit\r\n\tconst formSubmitHandler = function( event ) {\r\n\t\tconst form = jQuery( this );\r\n\r\n\t\t// Try before submit comment. Using new function is not ideal here, but safer than exec.\r\n\t\tif ( WPACCallbacks.beforeSubmitComment !== '' ) {\r\n\t\t\tconst beforeSubmit = new Function(\r\n\t\t\t\t'dom',\r\n\t\t\t\tWPACCallbacks.beforeSubmitComment,\r\n\t\t\t);\r\n\t\t\tbeforeSubmit( jQuery( document ) );\r\n\r\n\t\t\t// Set up native event handler.\r\n\t\t\tconst beforeSubmitEvent = new CustomEvent( 'wpacBeforeSubmitComment', {\r\n\t\t\t\tdetail: { dom: jQuery( document ) },\r\n\t\t\t} );\r\n\t\t\tdocument.dispatchEvent( beforeSubmitEvent );\r\n\t\t}\r\n\r\n\t\tconst submitUrl = form.attr( 'action' );\r\n\r\n\t\t// Cancel AJAX request if cross-domain scripting is detected\r\n\t\tif ( WPAC._TestCrossDomainScripting( submitUrl ) ) {\r\n\t\t\tif ( WPAC._Options.debug && ! form.data( 'submitCrossDomain' ) ) {\r\n\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t'error',\r\n\t\t\t\t\t\"Cross-domain scripting detected (submit url: '%s'), cancel AJAX request\",\r\n\t\t\t\t\tsubmitUrl,\r\n\t\t\t\t);\r\n\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t'info',\r\n\t\t\t\t\t'Sleep for 5s to enable analyzing debug messages...',\r\n\t\t\t\t);\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tform.data( 'submitCrossDomain', true );\r\n\t\t\t\twindow.setTimeout( function() {\r\n\t\t\t\t\tjQuery( '#submit', form ).remove();\r\n\t\t\t\t\tform.submit();\r\n\t\t\t\t}, 5000 );\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Stop default event handling\r\n\t\tevent.preventDefault();\r\n\r\n\t\t// Test if form is already submitting\r\n\t\tif ( form.data( 'WPAC_SUBMITTING' ) ) {\r\n\t\t\tWPAC._Debug(\r\n\t\t\t\t'info',\r\n\t\t\t\t'Cancel submit, form is already submitting (Form: %o)',\r\n\t\t\t\tform,\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tform.data( 'WPAC_SUBMITTING', true );\r\n\r\n\t\t// Show loading info\r\n\t\tWPAC._ShowMessage( WPAC._Options.textPostComment, 'loading', true );\r\n\r\n\t\tconst handleErrorResponse = function( data ) {\r\n\t\t\tWPAC._Debug( 'info', 'Comment has not been posted' );\r\n\t\t\tWPAC._Debug(\r\n\t\t\t\t'info',\r\n\t\t\t\t\"Try to extract error message (selector: '%s')...\",\r\n\t\t\t\tWPAC._Options.selectorErrorContainer,\r\n\t\t\t);\r\n\r\n\t\t\t// Extract error message\r\n\t\t\tconst extractedBody = WPAC._ExtractBody( data );\r\n\t\t\tif ( extractedBody !== false ) {\r\n\t\t\t\tlet errorMessage = extractedBody.find(\r\n\t\t\t\t\tWPAC._Options.selectorErrorContainer,\r\n\t\t\t\t);\r\n\t\t\t\tif ( errorMessage.length ) {\r\n\t\t\t\t\terrorMessage = errorMessage.html();\r\n\t\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t\t'info',\r\n\t\t\t\t\t\t\"Error message '%s' successfully extracted\",\r\n\t\t\t\t\t\terrorMessage,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tWPAC._ShowMessage( errorMessage, 'error', true );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tWPAC._Debug(\r\n\t\t\t\t'error',\r\n\t\t\t\t\"Error message could not be extracted, use error message '%s'.\",\r\n\t\t\t\tWPAC._Options.textUnknownError,\r\n\t\t\t);\r\n\t\t\tWPAC._ShowMessage( WPAC._Options.textUnknownError, 'error', true );\r\n\t\t};\r\n\r\n\t\tvar request = jQuery.ajax( {\r\n\t\t\turl: submitUrl,\r\n\t\t\ttype: 'POST',\r\n\t\t\tdata: new FormData( this ),\r\n\t\t\tprocessData: false,\r\n            contentType: false,\r\n\t\t\tbeforeSend( xhr ) {\r\n\t\t\t\txhr.setRequestHeader( 'X-WPAC-REQUEST', '1' );\r\n\t\t\t},\r\n\t\t\tcomplete( xhr, textStatus ) {\r\n\t\t\t\tform.removeData( 'WPAC_SUBMITTING', true );\r\n\t\t\t},\r\n\t\t\tsuccess( data ) {\r\n\t\t\t\t// Test error state (WordPress >=4.1 does not return 500 status code if posting comment failed)\r\n\t\t\t\tif ( request.getResponseHeader( 'X-WPAC-ERROR' ) ) {\r\n\t\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t\t'info',\r\n\t\t\t\t\t\t'Found error state X-WPAC-ERROR header.',\r\n\t\t\t\t\t\tcommentUrl,\r\n\t\t\t\t\t);\r\n\t\t\t\t\thandleErrorResponse( data );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tWPAC._Debug( 'info', 'Comment has been posted' );\r\n\r\n\t\t\t\t// Get info from response header\r\n\t\t\t\tvar commentUrl = request.getResponseHeader( 'X-WPAC-URL' );\r\n\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t'info',\r\n\t\t\t\t\t\"Found comment URL '%s' in X-WPAC-URL header.\",\r\n\t\t\t\t\tcommentUrl,\r\n\t\t\t\t);\r\n\t\t\t\tconst unapproved = request.getResponseHeader( 'X-WPAC-UNAPPROVED' );\r\n\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t'info',\r\n\t\t\t\t\t\"Found unapproved state '%s' in X-WPAC-UNAPPROVED\",\r\n\t\t\t\t\tunapproved,\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// Try afterPostComment submit comment. Using new function is not ideal here, but safer than exec.\r\n\t\t\t\tif ( WPACCallbacks.afterPostComment !== '' ) {\r\n\t\t\t\t\tconst afterComment = new Function( 'commentUrl', 'unapproved', options.afterPostComment);\r\n    \t\t\t\tafterComment( commentUrl, unapproved == '1');\r\n\r\n\t\t\t\t\t// Set up native event handler.\r\n\t\t\t\t\tconst afterCommentEvent = new CustomEvent( 'wpacAfterPostComment', {\r\n\t\t\t\t\t\tdetail: { commentUrl, unapproved: unapproved == '1' },\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tdocument.dispatchEvent( afterCommentEvent );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Show success message\r\n\t\t\t\tWPAC._ShowMessage(\r\n\t\t\t\t\tunapproved == '1'\r\n\t\t\t\t\t\t? WPAC._Options.textPostedUnapproved\r\n\t\t\t\t\t\t: WPAC._Options.textPosted,\r\n\t\t\t\t\t'success',\r\n\t\t\t\t\ttrue\r\n\t\t\t\t);\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Sunshine Confetti Plugin integration.\r\n\t\t\t\t *\r\n\t\t\t\t * @since 3.0.0\r\n\t\t\t\t *\r\n\t\t\t\t * @see https://wordpress.org/plugins/confetti/\r\n\t\t\t\t */\r\n\t\t\t\tif ( typeof window.wps_launch_confetti_cannon !== 'undefined' ) {\r\n\t\t\t\t\twindow.wps_launch_confetti_cannon();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Replace comments (and return if replacing failed)\r\n\t\t\t\tif (\r\n\t\t\t\t\t! WPAC._ReplaceComments(\r\n\t\t\t\t\t\tdata,\r\n\t\t\t\t\t\tcommentUrl,\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t{},\r\n\t\t\t\t\t\t'',\r\n\t\t\t\t\t\toptions.selectorCommentsContainer,\r\n\t\t\t\t\t\toptions.selectorCommentForm,\r\n\t\t\t\t\t\toptions.selectorRespondContainer,\r\n\t\t\t\t\t\toptions.beforeSelectElements,\r\n\t\t\t\t\t\toptions.beforeUpdateComments,\r\n\t\t\t\t\t\toptions.afterUpdateComments,\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Smooth scroll to comment url and update browser url\r\n\t\t\t\tif ( commentUrl ) {\r\n\t\t\t\t\tif ( options.updateUrl ) {\r\n\t\t\t\t\t\tWPAC._UpdateUrl( commentUrl );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( options.scrollToAnchor ) {\r\n\t\t\t\t\t\tconst anchor =\r\n\t\t\t\t\t\t\tcommentUrl.indexOf( '#' ) >= 0\r\n\t\t\t\t\t\t\t\t? commentUrl.substr( commentUrl.indexOf( '#' ) )\r\n\t\t\t\t\t\t\t\t: null;\r\n\t\t\t\t\t\tif ( anchor ) {\r\n\t\t\t\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t\t\t\t'info',\r\n\t\t\t\t\t\t\t\t\"Anchor '%s' extracted from comment URL '%s'\",\r\n\t\t\t\t\t\t\t\tanchor,\r\n\t\t\t\t\t\t\t\tcommentUrl,\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tWPAC._ScrollToAnchor( anchor, options.updateUrl );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terror( jqXhr, textStatus, errorThrown ) {\r\n\t\t\t\t// Test if loading comment url failed (due to cross site scripting error)\r\n\t\t\t\tif ( jqXhr.status === 0 && jqXhr.responseText === '' ) {\r\n\t\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t\t'error',\r\n\t\t\t\t\t\t'Comment seems to be posted, but loading comment update failed.',\r\n\t\t\t\t\t);\r\n\t\t\t\t\tWPAC._LoadFallbackUrl(\r\n\t\t\t\t\t\tWPAC._AddQueryParamStringToUrl(\r\n\t\t\t\t\t\t\twindow.location.href,\r\n\t\t\t\t\t\t\t'WPACFallback',\r\n\t\t\t\t\t\t\t'1',\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\thandleErrorResponse( jqXhr.responseText );\r\n\t\t\t},\r\n\t\t} );\r\n\t};\r\n\taddHandler( 'submit', options.selectorCommentForm, formSubmitHandler );\r\n};\r\n\r\nWPAC._Initialized = false;\r\nWPAC.Init = function() {\r\n\t// Test if plugin already has been initialized\r\n\tif ( WPAC._Initialized ) {\r\n\t\tWPAC._Debug( 'info', 'Abort initialization (plugin already initialized)' );\r\n\t\treturn false;\r\n\t}\r\n\tWPAC._Initialized = true;\r\n\r\n\t// Assert that environment is set up correctly\r\n\tif ( ! WPAC._Options || ! WPACCallbacks ) {\r\n\t\tWPAC._Debug(\r\n\t\t\t'error',\r\n\t\t\t'Something unexpected happened, initialization failed. Please try to reinstall the plugin.',\r\n\t\t);\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Debug infos\r\n\tWPAC._Debug( 'info', 'Initializing version %s', WPAC._Options.version );\r\n\r\n\t// Debug infos\r\n\tif ( WPAC._Options.debug ) {\r\n\t\tif ( ! jQuery || ! jQuery.fn || ! jQuery.fn.jquery ) {\r\n\t\t\tWPAC._Debug(\r\n\t\t\t\t'error',\r\n\t\t\t\t'jQuery not found, abort initialization. Please try to reinstall the plugin.',\r\n\t\t\t);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tWPAC._Debug( 'info', 'Found jQuery %s', jQuery.fn.jquery );\r\n\t\tif ( ! jQuery.blockUI || ! jQuery.blockUI.version ) {\r\n\t\t\tWPAC._Debug(\r\n\t\t\t\t'error',\r\n\t\t\t\t'jQuery blockUI not found, abort initialization. Please try to reinstall the plugin.',\r\n\t\t\t);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tWPAC._Debug( 'info', 'Found jQuery blockUI %s', jQuery.blockUI.version );\r\n\t\tif ( ! jQuery.idleTimer ) {\r\n\t\t\tWPAC._Debug(\r\n\t\t\t\t'error',\r\n\t\t\t\t'jQuery Idle Timer plugin not found, abort initialization. Please try to reinstall the plugin.',\r\n\t\t\t);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tWPAC._Debug( 'info', 'Found jQuery Idle Timer plugin' );\r\n\t}\r\n\r\n\tif ( WPAC._Options.selectorPostContainer ) {\r\n\t\tWPAC._Debug(\r\n\t\t\t'info',\r\n\t\t\t\"Multiple comment form support enabled (selector: '%s')\",\r\n\t\t\tWPAC._Options.selectorPostContainer,\r\n\t\t);\r\n\t\tjQuery( WPAC._Options.selectorPostContainer ).each( function( i, e ) {\r\n\t\t\tconst id = jQuery( e ).attr( 'id' );\r\n\t\t\tif ( ! id ) {\r\n\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t'info',\r\n\t\t\t\t\t'Skip post container element %o (ID not defined)',\r\n\t\t\t\t\te,\r\n\t\t\t\t);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tWPAC.AttachForm( {\r\n\t\t\t\tselectorCommentForm: '#' + id + ' ' + WPAC._Options.selectorCommentForm,\r\n\t\t\t\tselectorCommentPagingLinks:\r\n\t\t\t\t\t'#' + id + ' ' + WPAC._Options.selectorCommentPagingLinks,\r\n\t\t\t\tselectorCommentsContainer:\r\n\t\t\t\t\t'#' + id + ' ' + WPAC._Options.selectorCommentsContainer,\r\n\t\t\t\tselectorRespondContainer:\r\n\t\t\t\t\t'#' + id + ' ' + WPAC._Options.selectorRespondContainer,\r\n\t\t\t} );\r\n\t\t} );\r\n\t} else {\r\n\t\tWPAC.AttachForm();\r\n\t}\r\n\r\n\t// Set up loading preview handlers.\r\n\tjQuery( '#wp-admin-bar-wpac-menu-helper-preview-overlay-loading a' ).on(\r\n\t\t'click',\r\n\t\tfunction( e ) {\r\n\t\t\te.preventDefault();\r\n\t\t\tWPAC._ShowMessage( 'This is the loading preview...', 'loadingPreview', true );\r\n\t\t},\r\n\t);\r\n\r\n\t// Set up success preview handlers.\r\n\tjQuery( '#wp-admin-bar-wpac-menu-helper-preview-overlay-success a' ).on(\r\n\t\t'click',\r\n\t\tfunction( e ) {\r\n\t\t\te.preventDefault();\r\n\t\t\tWPAC._ShowMessage( 'This is a success message', 'success', true );\r\n\t\t},\r\n\t);\r\n\r\n\t// Set up error preview handlers.\r\n\tjQuery( '#wp-admin-bar-wpac-menu-helper-preview-overlay-error a' ).on(\r\n\t\t'click',\r\n\t\tfunction( e ) {\r\n\t\t\te.preventDefault();\r\n\t\t\tWPAC._ShowMessage( 'This is an error message', 'error', true );\r\n\t\t},\r\n\t);\r\n\r\n\t// Set up idle timer\r\n\tif ( WPAC._Options.commentsEnabled && WPAC._Options.autoUpdateIdleTime > 0 ) {\r\n\t\tWPAC._Debug(\r\n\t\t\t'info',\r\n\t\t\t'Auto updating comments enabled (idle time: %s)',\r\n\t\t\tWPAC._Options.autoUpdateIdleTime,\r\n\t\t);\r\n\t\tWPAC._InitIdleTimer();\r\n\t}\r\n\r\n\tWPAC._Debug( 'info', 'Initialization completed' );\r\n\r\n\treturn true;\r\n};\r\n\r\nWPAC._OnIdle = function() {\r\n\tWPAC.RefreshComments( { success: WPAC._InitIdleTimer, scrollToAnchor: false } );\r\n};\r\n\r\nWPAC._InitIdleTimer = function() {\r\n\tif ( WPAC._TestFallbackUrl( location.href ) ) {\r\n\t\tWPAC._Debug(\r\n\t\t\t'error',\r\n\t\t\t\"Fallback URL was detected (url: '%s'), cancel init idle timer\",\r\n\t\t\tlocation.href,\r\n\t\t);\r\n\t\treturn;\r\n\t}\r\n\r\n\tjQuery( document ).idleTimer( 'destroy' );\r\n\tjQuery( document ).idleTimer( WPAC._Options.autoUpdateIdleTime );\r\n\tjQuery( document ).on( 'idle.idleTimer', WPAC._OnIdle );\r\n};\r\n\r\n/**\r\n * Refresh the comments by Ajaxify Comments.\r\n * @param { Object } options Optiosn for Ajaxify Comments.\r\n * @return comments.\r\n */\r\nWPAC.RefreshComments = function( options ) {\r\n\r\n\tif ( WPAC._TestFallbackUrl( location.href ) ) {\r\n\t\tWPAC._Debug(\r\n\t\t\t'error',\r\n\t\t\t\"Fallback URL was detected (url: '%s'), cancel AJAX request\",\r\n\t\t\tlocation.href,\r\n\t\t);\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Users can pass options as first parameter to override selectors.\r\n\treturn WPAC.LoadComments( location.href, options );\r\n};\r\n\r\nWPAC.LoadComments = function( url, options ) {\r\n\t// Cancel AJAX request if cross-domain scripting is detected\r\n\tif ( WPAC._TestCrossDomainScripting( url ) ) {\r\n\t\tWPAC._Debug(\r\n\t\t\t'error',\r\n\t\t\t\"Cross-domain scripting detected (url: '%s'), cancel AJAX request\",\r\n\t\t\turl,\r\n\t\t);\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Convert boolean parameter (used in version <0.14.0)\r\n\tif ( typeof options === 'boolean' ) {\r\n\t\toptions = { scrollToAnchor: options };\r\n\t}\r\n\r\n\t// Set default options\r\n\toptions = jQuery.extend(\r\n\t\t{\r\n\t\t\tscrollToAnchor: ! WPAC._Options.disableScrollToAnchor,\r\n\t\t\tshowLoadingInfo: true,\r\n\t\t\tupdateUrl: ! WPAC._Options.disableUrlUpdate,\r\n\t\t\tsuccess() { },\r\n\t\t\tselectorCommentForm: WPAC._Options.selectorCommentForm,\r\n\t\t\tselectorCommentsContainer: WPAC._Options.selectorCommentsContainer,\r\n\t\t\tselectorRespondContainer: WPAC._Options.selectorRespondContainer,\r\n\t\t\tdisableCache: WPAC._Options.disableCache,\r\n\t\t\tbeforeSelectElements: WPACCallbacks.beforeSelectElements,\r\n\t\t\tbeforeUpdateComments: WPACCallbacks.beforeUpdateComments,\r\n\t\t\tafterUpdateComments: WPACCallbacks.afterUpdateComments,\r\n\t\t},\r\n\t\toptions || {},\r\n\t);\r\n\r\n\t// Save form data and focus\r\n\tconst formData = jQuery( options.selectorCommentForm ).serializeArray();\r\n\tconst formFocus = document.activeElement\r\n\t\t? jQuery(\r\n\t\t\t\"[name='\" + document.activeElement.name + \"']\",\r\n\t\t\toptions.selectorCommentForm,\r\n\t\t).attr( 'name' )\r\n\t\t: '';\r\n\r\n\t// Get query strings form URL (ajaxifyLazyLoadEnable, nonce, post_id).\r\n\tconst urlObject = new URL( url );\r\n\tconst queryParams = urlObject.searchParams;\r\n\tif ( queryParams.has( 'ajaxifyLazyLoadEnable' ) ) {\r\n\t\tconst ajaxifyLazyLoadEnable = queryParams.get( 'ajaxifyLazyLoadEnable' );\r\n\t\tconst nonce = queryParams.get( 'nonce' );\r\n\t\tconst postId = queryParams.get( 'post_id' );\r\n\r\n\t\t// Add to URL.\r\n\t\turl = WPAC._AddQueryParamStringToUrl(\r\n\t\t\turl,\r\n\t\t\t'ajaxifyLazyLoadEnable',\r\n\t\t\tajaxifyLazyLoadEnable,\r\n\t\t);\r\n\t\turl = WPAC._AddQueryParamStringToUrl( url, 'nonce', nonce );\r\n\t\turl = WPAC._AddQueryParamStringToUrl( url, 'post_id', postId );\r\n\t}\r\n\r\n\tif ( options.disableCache ) {\r\n\t\turl = WPAC._AddQueryParamStringToUrl(\r\n\t\t\turl,\r\n\t\t\t'WPACRandom',\r\n\t\t\tnew Date().getTime(),\r\n\t\t);\r\n\t}\r\n\r\n\tconst request = jQuery.ajax( {\r\n\t\turl,\r\n\t\ttype: 'GET',\r\n\t\tbeforeSend( xhr ) {\r\n\t\t\txhr.setRequestHeader( 'X-WPAC-REQUEST', '1' );\r\n\t\t},\r\n\t\tsuccess( data ) {\r\n\t\t\ttry {\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\t! WPAC._ReplaceComments(\r\n\t\t\t\t\t\tdata,\r\n\t\t\t\t\t\turl,\r\n\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\tformData,\r\n\t\t\t\t\t\tformFocus,\r\n\t\t\t\t\t\toptions.selectorCommentsContainer,\r\n\t\t\t\t\t\toptions.selectorCommentForm,\r\n\t\t\t\t\t\toptions.selectorRespondContainer,\r\n\t\t\t\t\t\toptions.beforeSelectElements,\r\n\t\t\t\t\t\toptions.beforeUpdateComments,\r\n\t\t\t\t\t\toptions.afterUpdateComments,\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( options.updateUrl ) {\r\n\t\t\t\t\tWPAC._UpdateUrl( url );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Scroll to anchor\r\n\t\t\t\tvar waitForScrollToAnchor = false;\r\n\t\t\t\tif ( options.scrollToAnchor ) {\r\n\t\t\t\t\tconst anchor =\r\n\t\t\t\t\t\turl.indexOf( '#' ) >= 0 ? url.substr( url.indexOf( '#' ) ) : null;\r\n\t\t\t\t\tif ( anchor ) {\r\n\t\t\t\t\t\tWPAC._Debug( 'info', \"Anchor '%s' extracted from url\", anchor );\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tWPAC._ScrollToAnchor( anchor, options.updateUrl, function() {\r\n\t\t\t\t\t\t\t\toptions.success();\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\twaitForScrollToAnchor = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch ( e ) {\r\n\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t'error',\r\n\t\t\t\t\t'Something went wrong while refreshing comments: %s',\r\n\t\t\t\t\te,\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// Unblock UI\r\n\t\t\tjQuery.unblockUI();\r\n\r\n\t\t\tif ( ! waitForScrollToAnchor ) {\r\n\t\t\t\toptions.success();\r\n\t\t\t}\r\n\t\t},\r\n\t\terror() {\r\n\t\t\tWPAC._LoadFallbackUrl(\r\n\t\t\t\tWPAC._AddQueryParamStringToUrl(\r\n\t\t\t\t\twindow.location.href,\r\n\t\t\t\t\t'WPACFallback',\r\n\t\t\t\t\t'1',\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t\t},\r\n\t} );\r\n\r\n\treturn true;\r\n};\r\n\r\njQuery( function() {\r\n\tconst initSuccesful = WPAC.Init();\r\n\tif ( true === WPAC._Options.lazyLoadEnabled ) {\r\n\t\tif ( ! initSuccesful ) {\r\n\t\t\tWPAC._LoadFallbackUrl(\r\n\t\t\t\tWPAC._AddQueryParamStringToUrl(\r\n\t\t\t\t\twindow.location.href,\r\n\t\t\t\t\t'WPACFallback',\r\n\t\t\t\t\t'1',\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst triggerType = WPAC._Options.lazyLoadTrigger;\r\n\r\n\t\tlet lazyLoadTrigger = WPAC._Options.lazyLoadTrigger;\r\n\t\tconst lazyLoadScrollOffset = parseInt(\r\n\t\t\tWPAC._Options.lazyLoadTriggerScrollOffset,\r\n\t\t);\r\n\t\tconst lazyLoadElement = WPAC._Options.lazyLoadTriggerElement;\r\n\t\tconst lazyLoadInlineType = WPAC._Options.lazyLoadInlineLoadingType;\r\n\t\tlet lazyLoadOffset = parseInt( WPAC._Options.lazyLoadTriggerOffset );\r\n\t\tif ( lazyLoadOffset === 0 ) {\r\n\t\t\tlazyLoadOffset = '100%';\r\n\t\t}\r\n\r\n\t\t// Determine where to load the lazy loading message (if not overlay).\r\n\t\tconst isLazyLoadInline = 'inline' === WPAC._Options.lazyLoadDisplay;\r\n\t\tconst lazyloadInlineDisplayLocation = WPAC._Options.lazyLoadInlineDisplayLocation; /* can be comments, element */\r\n\t\t\r\n\r\n\t\t// If inline, let's move the loader.\r\n\t\tif ( isLazyLoadInline && WPAC._Options.lazyLoadIntoElement ) {\r\n\t\t\tlet lazyloadInlineDisplayElement = WPAC._Options.lazyLoadInlineDisplayElement;\r\n\t\t\tif ( 'comments' === lazyloadInlineDisplayLocation ) {\r\n\t\t\t\tlazyloadInlineDisplayElement = WPAC._Options.selectorCommentsContainer;\r\n\t\t\t}\r\n\r\n\t\t\tconst lazyLoadContent = document.querySelector( '#wpac-lazy-load-content' ); // hardcoded selector.\r\n\t\t\tif ( null !== lazyLoadContent ) {\r\n\t\t\t\t// Clone it without ref.\r\n\t\t\t\tconst lazyLoadContentClone = jQuery.clone( lazyLoadContent );\r\n\t\t\t\tlazyLoadContentClone.id = 'wpac-lazy-load-content-clone';\r\n\r\n\r\n\t\t\t\t// Determine trigger if button.\r\n\t\t\t\tif ( 'button' === lazyLoadInlineType ) {\r\n\t\t\t\t\t// This will make it so that a button must be clicked to load comments.\r\n\t\t\t\t\tlazyLoadTrigger = 'external';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( 'skeleton' === lazyLoadInlineType ) {\r\n\t\t\t\t\t// Show the loading skeleton to the user.\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Display the loader.\r\n\t\t\t\tif ( 'comments' === lazyloadInlineDisplayLocation ) {\r\n\t\t\t\t\tconst commentsContainer = jQuery( lazyloadInlineDisplayElement );\r\n\t\t\t\t\tif ( commentsContainer ) {\r\n\r\n\t\t\t\t\t\t// Test for block theme comment container title.\r\n\t\t\t\t\t\tconst maybeBlockCommentstitle = commentsContainer.find( '.wp-block-comments-title, .comments-title' );\r\n\t\t\t\t\t\tif ( maybeBlockCommentstitle.length > 0 ) {\r\n\t\t\t\t\t\t\t// Insert after title.\r\n\t\t\t\t\t\t\tjQuery( maybeBlockCommentstitle ).after( lazyLoadContentClone );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcommentsContainer.prepend( lazyLoadContentClone );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t\t\t'error',\r\n\t\t\t\t\t\t\t'Comments container not found for lazy loading when reaching the comments section.',\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ( 'element' === lazyloadInlineDisplayLocation ) {\r\n\t\t\t\t\tconst domElement = jQuery( lazyloadInlineDisplayElement );\r\n\t\t\t\t\tif ( domElement ) {\r\n\t\t\t\t\t\t// add to top of comments element.\r\n\t\t\t\t\t\tjQuery( domElement ).prepend( lazyLoadContentClone );\r\n\r\n\t\t\t\t\t\t// Remove style attribute.\r\n\t\t\t\t\t\tjQuery( domElement ).removeAttr( 'style' );\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t\t\t'error',\r\n\t\t\t\t\t\t\t'Element not found for lazy loading when reaching the element.',\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Init lazy loading button (if any).\r\n\t\t\t\tconst lazyLoadButton = document.querySelector( '.ajaxify-comments-loading-button-wrapper button' );\r\n\t\t\t\tif ( null !== lazyLoadButton ) {\r\n\t\t\t\t\tlazyLoadButton.addEventListener( 'click', function( e ) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tlazyLoadButton.innerHTML = WPAC._Options.lazyLoadInlineButtonLabelLoading;\r\n\t\t\t\t\t\tWPAC.RefreshComments();\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tWPAC._Debug(\r\n\t\t\t'info',\r\n\t\t\t\"Loading comments asynchronously with secondary AJAX request (trigger: '%s')\",\r\n\t\t\tlazyLoadTrigger,\r\n\t\t);\r\n\r\n\t\tif ( window.location.hash ) {\r\n\t\t\tconst regex = /^#comment-[0-9]+$/;\r\n\t\t\tif ( regex.test( window.location.hash ) ) {\r\n\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t'info',\r\n\t\t\t\t\t\"Comment anchor in URL detected, force loading comments on DomReady (hash: '%s')\",\r\n\t\t\t\t\twindow.location.hash,\r\n\t\t\t\t);\r\n\t\t\t\tlazyLoadTrigger = 'domready';\r\n\t\t\t}\r\n\t\t}\r\n\t\tswitch ( lazyLoadTrigger ) {\r\n\t\t\tcase 'external':\r\n\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t'info',\r\n\t\t\t\t\t'Lazy loading: Waiting on external trigger for lazy loading comments.',\r\n\t\t\t\t\twindow.location.hash,\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'comments':\r\n\t\t\t\tconst commentsContainer = document.querySelector(\r\n\t\t\t\t\tWPAC._Options.selectorCommentsContainer,\r\n\t\t\t\t);\r\n\t\t\t\tif ( null !== commentsContainer ) {\r\n\t\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t\t'info',\r\n\t\t\t\t\t\t'Lazy loading: Waiting on comments to scroll into view for lazy loading.',\r\n\t\t\t\t\t\twindow.location.hash,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tjQuery( commentsContainer ).waypoint(\r\n\t\t\t\t\t\tfunction( direction ) {\r\n\t\t\t\t\t\t\tthis.destroy();\r\n\t\t\t\t\t\t\tWPAC._ShowMessage( WPAC._Options.textRefreshComments, 'loading' );\r\n\t\t\t\t\t\t\tWPAC.RefreshComments();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ offset: lazyLoadScrollOffset ? lazyLoadScrollOffset : '100%' },\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t\t'error',\r\n\t\t\t\t\t\t'Comments container not found for lazy loading when reaching the comments section.',\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'element':\r\n\t\t\t\tconst domElement = document.querySelector( lazyLoadElement );\r\n\t\t\t\tif ( null !== domElement ) {\r\n\t\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t\t'info',\r\n\t\t\t\t\t\t'Lazy loading: Waiting on element to scroll into view for lazy loading.',\r\n\t\t\t\t\t\twindow.location.hash,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tjQuery( domElement ).waypoint(\r\n\t\t\t\t\t\tfunction( direction ) {\r\n\t\t\t\t\t\t\tthis.destroy();\r\n\t\t\t\t\t\t\tif ( 'button' !== lazyLoadInlineType && isLazyLoadInline ) {\r\n\t\t\t\t\t\t\t\tWPAC._ShowMessage( WPAC._Options.textRefreshComments, 'loading' );\r\n\t\t\t\t\t\t\t\tWPAC.RefreshComments();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ offset: lazyLoadScrollOffset ? lazyLoadScrollOffset : '100%' },\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t\t'error',\r\n\t\t\t\t\t\t'Element not found for lazy loading when reaching the element.',\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'domready':\r\n\t\t\t\t// Only refresh comments if not inline button.\r\n\t\t\t\tif ( 'button' !== lazyLoadInlineType && isLazyLoadInline || ! isLazyLoadInline ) {\r\n\t\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t\t'info',\r\n\t\t\t\t\t\t'Lazy loading: Waiting on Dom to be ready for lazy loading.',\r\n\t\t\t\t\t\twindow.location.hash,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tWPAC._ShowMessage( WPAC._Options.textRefreshComments, 'loading' );\r\n\t\t\t\t\tWPAC.RefreshComments( { scrollToAnchor: true } ); // force scroll to anchor.\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'scroll':\r\n\t\t\t\tWPAC._Debug(\r\n\t\t\t\t\t'info',\r\n\t\t\t\t\t'Lazy loading: Waiting on Scroll Into View.',\r\n\t\t\t\t\twindow.location.hash,\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// Get the body tag and calculate offset.\r\n\t\t\t\tconst body = document.querySelector( 'body' );\r\n\r\n\t\t\t\tjQuery( body ).waypoint(\r\n\t\t\t\t\tfunction( direction ) {\r\n\t\t\t\t\t\tthis.destroy();\r\n\t\t\t\t\t\tif ( 'button' !== lazyLoadInlineType && 'inline' === lazyLoadInlineType ) {\r\n\t\t\t\t\t\t\tWPAC._ShowMessage( WPAC._Options.textRefreshComments, 'loading' );\r\n\t\t\t\t\t\t\tWPAC.RefreshComments();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ offset: lazyLoadScrollOffset * -1 },\r\n\t\t\t\t);\r\n\t\t}\r\n\t}\r\n} );\r\n\r\nfunction wpac_init() {\r\n\tWPAC._Debug( 'info', 'wpac_init() is deprecated, please use WPAC.Init()' );\r\n\tWPAC.Init();\r\n}\r\n","module.exports = window[\"jQuery\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './jsuri';\nimport './jquery.blockUI.js';\nimport './idle-timer';\nimport './jquery.waypoints';\nimport './wp-ajaxify-comments';\n"],"names":["$","idleTimer","firstParam","elem","opts","_typeof","timeout","document","extend","idle","events","jqElem","obj","data","toggleIdleState","e","olddate","Date","event","Event","trigger","handleEvent","type","originalEvent","key","timerSyncId","remaining","pageX","pageY","elapsed","clearTimeout","tId","lastActive","localStorage","setItem","setTimeout","reset","idleBackup","pause","resume","destroy","removeData","off","remainingtime","on","split","join","trim","window","fn","jQuery","setup","_fadeIn","fadeIn","noOp","noop","msie","test","navigator","userAgent","ie6","mode","documentMode","setExpr","isFunction","createElement","style","setExpression","blockUI","install","unblockUI","remove","growlUI","title","message","onClose","$m","append","undefined","callBlock","fadeOut","centerY","showOverlay","onUnblock","css","defaults","growlCSS","nonmousedOpacity","mouseover","displayBlock","stop","fadeTo","mouseout","block","fullOpts","each","$el","ignoreIfBlocked","unblock","position","zoom","version","draggable","theme","padding","margin","width","top","left","textAlign","color","border","backgroundColor","cursor","themedCSS","overlayCSS","opacity","cursorReset","right","iframeSrc","location","href","forceIframe","baseZ","centerX","allowBodyStretch","bindEvents","constrainTabKey","focusInput","focusableElements","onBlock","onOverlayClick","quirksmodeOffsetHack","blockMsgClass","pageBlock","pageBlockEls","el","full","msg","parentNode","jquery","node","parent","display","removeChild","z","lyr1","lyr2","lyr3","s","addClass","layers","$par","appendTo","handle","cancel","expr","support","boxModel","length","t","sz","l","fixT","fixL","i","o","marginTop","parseInt","expression","find","nodeType","show","cb","cb1","cb2","bind","focus","center","to","count","els","children","filter","add","appendChild","body","w","cssW","b","handler","unbind","keyCode","fwd","shiftKey","target","back","hasClass","parents","x","y","p","offsetWidth","offsetHeight","define","amd","keyCounter","allWaypoints","Waypoint","options","Error","element","console","log","Adapter","adapter","callback","axis","horizontal","enabled","triggerPoint","group","Group","findOrCreate","name","context","Context","findOrCreateByElement","offsetAliases","offset","prototype","queueTrigger","direction","args","apply","disable","enable","refresh","next","previous","invokeAll","method","allWaypointsArray","waypointKey","push","end","destroyAll","disableAll","enableAll","refreshAll","viewportHeight","innerHeight","documentElement","clientHeight","viewportWidth","clientWidth","adapters","continuous","bottomInView","outerHeight","rightInView","innerWidth","outerWidth","requestAnimationFrameShim","contexts","oldWindowLoad","onload","didScroll","didResize","oldScroll","scrollLeft","scrollTop","waypoints","vertical","waypointContextKey","windowContext","createThrottledScrollHandler","createThrottledResizeHandler","waypoint","checkEmpty","horizontalEmpty","isEmptyObject","verticalEmpty","isWindow","self","resizeHandler","handleResize","requestAnimationFrame","scrollHandler","handleScroll","isTouch","triggeredGroups","axes","newScroll","forward","backward","axisKey","isForward","wasBeforeTriggerPoint","nowAfterTriggerPoint","crossedForward","crossedBackward","id","groupKey","flushTriggers","contextOffset","contextScroll","contextDimension","offsetProp","adjustment","oldTriggerPoint","elementOffset","freshWaypoint","contextModifier","wasBeforeScroll","nowAfterScroll","triggeredBackward","triggeredForward","parseFloat","indexOf","Math","ceil","floor","findByElement","contextId","requestFn","mozRequestAnimationFrame","webkitRequestAnimationFrame","call","byTriggerPoint","a","byReverseTriggerPoint","groups","clearTriggerQueues","triggerQueues","up","down","reverse","sort","index","inArray","isLast","splice","first","last","JQueryAdapter","$element","Array","slice","arguments","createExtension","framework","overrides","closest","Zepto","global","re","starts_with_slashes","ends_with_slashes","pluses","query_separator","uri_parser","forEach","thisArg","T","k","TypeError","O","Object","len","kValue","decode","toString","replace","decodeURIComponent","parseUri","str","parser","parserKeys","m","exec","parts","parseQuery","ps","n","v","pairs","substring","Uri","uriParts","queryPairs","query","hasAuthorityPrefixUserPref","val","hasAuthorityPrefix","source","isColonUri","param","encodeURIComponent","getQueryParamValue","getQueryParamValues","arr","deleteQueryParam","keyMatchesFilter","valMatchesFilter","addQueryParam","min","hasQueryParam","replaceQueryParam","newVal","oldVal","charAt","toUpperCase","scheme","protocol","host","origin","userInfo","port","path","substr","match","addTrailingSlash","anchor","clone","module","exports","WPAC","_Options","_BodyRegex","RegExp","_ExtractBody","html","_TitleRegex","_ExtractTitle","_ShowMessage","force","lazyLoadDisplay","lazyLoadEnabled","popupMarginTop","popupBackgroundColorLoading","textColor","popupTextColorLoading","popupBackgroundColorError","popupTextColorError","popupBackgroundColorSuccess","popupTextColorSuccess","topOffset","popupVerticalAlign","popupFadeIn","popupFadeOut","popupTimeout","bottom","popupPadding","popupCornerRadius","popupOpacity","popupTextAlign","popupTextFontSize","popupOverlayBackgroundColor","popupOverlayBackgroundColorOpacity","popupZindex","_DebugErrorShown","_Debug","level","debug","Function","alert","merge","makeArray","_DebugSelector","elementType","selector","optional","_AddQueryParamStringToUrl","url","value","urlObject","URL","queryParams","searchParams","set","search","_LoadFallbackUrl","fallbackUrl","textReloadPage","getTime","reload","_ScrollToAnchor","updateHash","scrollComplete","anchorElement","scrollSpeed","animateComplete","hash","scrollTargetTopOffset","animate","duration","complete","_UpdateUrl","history","replaceState","_ReplaceComments","commentUrl","useFallbackUrl","formData","formFocus","selectorCommentsContainer","selectorCommentForm","selectorRespondContainer","beforeSelectElements","beforeUpdateComments","afterUpdateComments","oldCommentsContainer","lazyLoadIntoElement","lazyLoadInlineDisplayLocation","lazyLoadInlineDisplayElement","is","extractedBody","beforeSelect","beforeSelectEvent","CustomEvent","detail","dispatchEvent","newCommentsContainer","respondContainer","beforeComments","beforeCommentsEvent","newDom","extractedTitle","text","empty","commentsEnabled","form","newCommentForm","replaceWith","wpTempFormDiv","newRespondContainer","formElement","updateComments","updateCommentsEvent","_TestCrossDomainScripting","domain","_TestFallbackUrl","fallbackParam","get","randomParam","AttachForm","selectorCommentPagingLinks","WPACCallbacks","beforeSubmitComment","afterPostComment","scrollToAnchor","disableScrollToAnchor","updateUrl","disableUrlUpdate","selectorCommentLinks","dom","addHandler","delegate","live","pagingClickHandler","attr","preventDefault","LoadComments","linkClickHandler","formSubmitHandler","beforeSubmit","beforeSubmitEvent","submitUrl","submit","textPostComment","handleErrorResponse","selectorErrorContainer","errorMessage","textUnknownError","request","ajax","FormData","processData","contentType","beforeSend","xhr","setRequestHeader","textStatus","success","getResponseHeader","unapproved","afterComment","afterCommentEvent","textPostedUnapproved","textPosted","wps_launch_confetti_cannon","error","jqXhr","errorThrown","status","responseText","_Initialized","Init","selectorPostContainer","autoUpdateIdleTime","_InitIdleTimer","_OnIdle","RefreshComments","showLoadingInfo","disableCache","serializeArray","activeElement","has","ajaxifyLazyLoadEnable","nonce","postId","waitForScrollToAnchor","initSuccesful","triggerType","lazyLoadTrigger","lazyLoadScrollOffset","lazyLoadTriggerScrollOffset","lazyLoadElement","lazyLoadTriggerElement","lazyLoadInlineType","lazyLoadInlineLoadingType","lazyLoadOffset","lazyLoadTriggerOffset","isLazyLoadInline","lazyloadInlineDisplayLocation","lazyloadInlineDisplayElement","lazyLoadContent","querySelector","lazyLoadContentClone","commentsContainer","maybeBlockCommentstitle","after","prepend","domElement","removeAttr","lazyLoadButton","addEventListener","innerHTML","lazyLoadInlineButtonLabelLoading","regex","textRefreshComments","wpac_init"],"sourceRoot":""}